{
    "componentChunkName": "component---src-templates-challenges-projects-backend-show-tsx",
    "path": "/learn/quality-assurance/advanced-node-and-express/logging-a-user-out",
    "result": {"data":{"challengeNode":{"challenge":{"forumTopicId":301560,"title":"Logging a User Out","description":"<section id=\"description\">\n<p>Creating the logout logic is easy. The route should just unauthenticate the user, and redirect to the home page instead of rendering any view.</p>\n<p>In passport, unauthenticating a user is as easy as just calling <code>req.logout()</code> before redirecting. Add this <code>/logout</code> route to do that:</p>\n<pre><code class=\"language-js\">app.route('/logout')\n  .get((req, res) => {\n    req.logout();\n    res.redirect('/');\n});\n</code></pre>\n<p>You may have noticed that you are not handling missing pages (404). The common way to handle this in Node is with the following middleware. Go ahead and add this in after all your other routes:</p>\n<pre><code class=\"language-js\">app.use((req, res, next) => {\n  res.status(404)\n    .type('text')\n    .send('Not Found');\n});\n</code></pre>\n<p>Submit your page when you think you've got it right. If you're running into errors, you can <a href=\"https://forum.freecodecamp.org/t/advanced-node-and-express/567135#logging-a-user-out-10\" target=\"_blank\" rel=\"noopener noreferrer nofollow\">check out the project completed up to this point</a>.</p>\n</section>","instructions":null,"challengeType":2,"helpCategory":"JavaScript","superBlock":"quality-assurance","block":"advanced-node-and-express","translationPending":false,"fields":{"blockName":"advanced-node-and-express","slug":"/learn/quality-assurance/advanced-node-and-express/logging-a-user-out","tests":[{"text":"<p><code>req.logout()</code> should be called in your <code>/logout</code> route.</p>","testString":"async (getUserInput) => {\n  const url = new URL(\"/_api/server.js\", getUserInput(\"url\"));\n  const res = await fetch(url);\n  const data = await res.text();\n  assert.match(\n    data,\n    /req.logout/gi,\n    'You should be calling req.logout() in your /logout route'\n  );\n}"},{"text":"<p><code>/logout</code> should redirect to the home page.</p>","testString":"async (getUserInput) => {\n  const url = new URL(\"/logout\", getUserInput(\"url\"));\n  const res = await fetch(url);\n  const data = await res.text();\n  assert.match(\n    data,\n    /Home page/gi,\n    'When a user logs out they should be redirected to the homepage'\n  );\n}"}]}}}},"pageContext":{"challengeMeta":{"blockHashSlug":"/learn/quality-assurance/#advanced-node-and-express","dashedName":"logging-a-user-out","certification":"quality-assurance","disableLoopProtectTests":false,"disableLoopProtectPreview":false,"superBlock":"quality-assurance","block":"advanced-node-and-express","isFirstStep":false,"template":null,"required":[],"nextBlock":"advanced-node-and-express","nextChallengePath":"/learn/quality-assurance/advanced-node-and-express/registration-of-new-users","prevChallengePath":"/learn/quality-assurance/advanced-node-and-express/how-to-put-a-profile-together","id":"58965611f9fc0f352b528e6c"},"projectPreview":{"showProjectPreview":false,"challengeData":{"challengeType":2,"challengeFiles":[]}},"slug":"/learn/quality-assurance/advanced-node-and-express/logging-a-user-out"}},
    "staticQueryHashes": ["1800977889","4268002518"]}