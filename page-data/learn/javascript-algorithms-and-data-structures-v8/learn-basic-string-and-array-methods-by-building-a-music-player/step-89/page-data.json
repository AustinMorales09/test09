{
    "componentChunkName": "component---src-templates-challenges-classic-show-tsx",
    "path": "/learn/javascript-algorithms-and-data-structures-v8/learn-basic-string-and-array-methods-by-building-a-music-player/step-89",
    "result": {"data":{"challengeNode":{"challenge":{"block":"learn-basic-string-and-array-methods-by-building-a-music-player","title":"Step 89","description":"<section id=\"description\">\n<p>Now that you've created the button, you need to assign it a text. To do this, you need to use the <code>createTextNode()</code> method of DOM.</p>\n<p>The <code>createTextNode()</code> method is used to create a text node. To use it, you call it and pass in the text as a string:</p>\n<pre><code class=\"language-js\">document.createTextNode(\"your text\")\n</code></pre>\n<p>You can also assign it to a variable:</p>\n<pre><code class=\"language-js\">const myText = document.createTextNode(\"your text\")\n</code></pre>\n<p>Use the <code>createTextNode()</code> method to create a <code>\"Reset Playlist\"</code> text, then assign it to a <code>resetText</code> constant.</p>\n</section>","id":"65672adafbaa37a6cef886f7","hasEditableBoundaries":true,"instructions":null,"notes":null,"challengeType":0,"helpCategory":"JavaScript","videoUrl":null,"superBlock":"javascript-algorithms-and-data-structures-v8","translationPending":false,"forumTopicId":null,"fields":{"blockName":"learn-basic-string-and-array-methods-by-building-a-music-player","slug":"/learn/javascript-algorithms-and-data-structures-v8/learn-basic-string-and-array-methods-by-building-a-music-player/step-89","tests":[{"text":"<p>You should not modify the existing <code>if</code> statement and its content.</p>","testString":"assert.match(code, /if\\s*\\(\\s*userData\\?\\.songs\\.length\\s*===\\s*0\\s*\\)\\s*\\{\\s*const\\s+resetButton\\s*=\\s*document\\.createElement\\(\\s*('|\")button\\1\\s*\\)\\s*;?\\s*.*\\s*\\}/)"},{"text":"<p>You should use <code>document.createTextNode()</code> to create a <code>\"Reset Playlist\"</code> text.</p>","testString":"assert.match(code, /document\\.createTextNode\\(\\s*('|\")Reset\\s+Playlist\\1\\s*\\)\\s*;?/)"},{"text":"<p>You should assign your created text node to a <code>resetText</code> constant.</p>","testString":"assert.match(code, /const\\s+resetText\\s*=\\s*document\\.createTextNode\\(\\s*('|\")Reset\\s+Playlist\\1\\s*\\)\\s*;?/)"}]},"required":[],"usesMultifileEditor":true,"challengeFiles":[{"fileKey":"indexhtml","ext":"html","name":"index","contents":"<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"UTF-8\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n    <link\n      href=\"https://fonts.googleapis.com/css2?family=Roboto+Mono&display=swap\"\n      rel=\"stylesheet\"\n    />\n    <link\n      href=\"https://fonts.googleapis.com/css2?family=Lato&family=Roboto+Mono&display=swap\"\n      rel=\"stylesheet\"\n    />\n    <link rel=\"stylesheet\" href=\"styles.css\" />\n    <title>\n      Learn Basic String and Array Methods by Building a Music Player App\n    </title>\n  </head>\n\n  <body>\n    <div class=\"container\">\n      <div class=\"player\">\n        <div class=\"player-bar\">\n          <div class=\"parallel-lines\">\n            <div></div>\n            <div></div>\n          </div>\n          <h1 class=\"fcc-title\">freeCodeCamp</h1>\n          <div class=\"parallel-lines\">\n            <div></div>\n            <div></div>\n          </div>\n        </div>\n        <div class=\"player-content\">\n          <div id=\"player-album-art\">\n            <img\n              src=\"https://cdn.freecodecamp.org/curriculum/js-music-player/quincy-larson-album-art.jpg\"\n              alt=\"song cover art\"\n            />\n          </div>\n          <div class=\"player-display\">\n            <div class=\"player-display-song-artist\">\n              <p id=\"player-song-title\"></p>\n              <p id=\"player-song-artist\"></p>\n            </div>\n            <div class=\"player-buttons\">\n              <button id=\"previous\" class=\"previous\" aria-label=\"Previous\">\n                <svg\n                  width=\"24\"\n                  height=\"19\"\n                  viewBox=\"0 0 24 19\"\n                  fill=\"none\"\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                ><path d=\"M23.2248 0L7.03964 9.5L23.2248 19L23.2248 0Z\" /><rect\n                    width=\"4.63633\"\n                    height=\"18.5453\"\n                    transform=\"matrix(-1 0 0 1 4.63633 0)\"/></svg>\n              </button>\n              <button id=\"play\" class=\"play\" aria-label=\"Play\">\n                <svg\n                  width=\"17\"\n                  height=\"19\"\n                  viewBox=\"0 0 17 19\"\n                  fill=\"none\"\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                > <path d=\"M0 0L16.1852 9.5L1.88952e-07 19L0 0Z\" /></svg>\n              </button>\n              <button id=\"pause\" class=\"pause\" aria-label=\"Pause\">\n                <svg\n                  width=\"17\"\n                  height=\"19\"\n                  viewBox=\"0 0 17 19\"\n                  fill=\"none\"\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                ><path d=\"M0 6.54013e-07H4.75V19H0V6.54013e-07Z\" /> <path d=\"M11.4 0H16.15V19H11.4V0Z\" /></svg>\n              </button>\n              <button id=\"next\" class=\"next\" aria-label=\"Next\">\n                <svg\n                  width=\"24\"\n                  height=\"19\"\n                  viewBox=\"0 0 24 19\"\n                  fill=\"none\"\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                ><path d=\"M0 0L16.1852 9.5L1.88952e-07 19L0 0Z\" /> <rect x=\"18.5885\" width=\"4.63633\" height=\"18.5453\" /></svg>\n              </button>\n              <button id=\"shuffle\" class=\"shuffle\" aria-label=\"Shuffle\">\n                <svg\n                  width=\"17\"\n                  height=\"14\"\n                  viewBox=\"0 0 17 14\"\n                  fill=\"none\"\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                ><path\n                    fill-rule=\"evenodd\"\n                    clip-rule=\"evenodd\"\n                    d=\"M12.2127 0L17 2.9219L12.0759 5.60686L12.1321 3.30594C11.9081 3.30997 11.7043 3.3165 11.528 3.326C11.3777 3.3341 11.2523 3.34411 11.1542 3.35578C11.1053 3.3616 11.0661 3.36749 11.036 3.37309C11.0211 3.37587 11.0095 3.37835 11.001 3.38041C10.9967 3.38143 10.9936 3.38227 10.9913 3.38289C10.989 3.38352 10.988 3.38385 10.9881 3.38382C10.9266 3.40381 10.7572 3.5014 10.4637 3.73265C10.1895 3.94866 9.85452 4.24234 9.47614 4.59282C8.81462 5.20556 8.03912 5.97461 7.25609 6.76752C8.03912 7.56043 8.81462 8.32948 9.47614 8.94223C9.85452 9.29271 10.1895 9.58639 10.4637 9.80239C10.7572 10.0336 10.9266 10.1312 10.9881 10.1512C10.988 10.1512 10.989 10.1515 10.9913 10.1522C10.9936 10.1528 10.9967 10.1536 11.001 10.1546C11.0095 10.1567 11.0211 10.1592 11.036 10.162C11.0661 10.1676 11.1053 10.1734 11.1542 10.1793C11.2523 10.1909 11.3777 10.2009 11.528 10.209C11.7043 10.2185 11.9081 10.2251 12.1321 10.2291L12.0759 7.92819L17 10.6131L12.2127 13.535L12.1558 11.2011C11.9071 11.197 11.677 11.1899 11.4757 11.1791C11.175 11.1629 10.8757 11.1361 10.6878 11.0751C10.4405 10.9947 10.1465 10.7892 9.86244 10.5654C9.55904 10.3263 9.20251 10.0129 8.81601 9.6549C8.14192 9.03051 7.35822 8.2533 6.57518 7.46052C6.2731 7.76927 5.9736 8.07675 5.68453 8.37353C5.24051 8.8294 4.82109 9.26001 4.45467 9.63114C4.10458 9.98574 3.79502 10.2941 3.54834 10.5285C3.42516 10.6455 3.31437 10.7473 3.22005 10.8285C3.13287 10.9035 3.03686 10.9812 2.94938 11.0324C2.46156 11.3178 1.79381 11.3751 1.32395 11.3812C1.07514 11.3845 0.852462 11.3732 0.692065 11.3611C0.611577 11.3551 0.546037 11.3488 0.499864 11.344C0.476761 11.3415 0.458455 11.3394 0.445496 11.3379L0.43012 11.336L0.425557 11.3355L0.423542 11.3352C0.423448 11.3352 0.423143 11.3352 0.485767 10.8535L0.423542 11.3352C0.157529 11.3006 -0.0304782 11.0569 0.00410824 10.7909C0.0386807 10.525 0.282182 10.3374 0.548069 10.3718C0.548087 10.3718 0.548051 10.3718 0.548069 10.3718L0.549944 10.372L0.559616 10.3732C0.568682 10.3743 0.582871 10.3759 0.60165 10.3779C0.639243 10.3818 0.695017 10.3872 0.764728 10.3924C0.90473 10.4029 1.09799 10.4127 1.31133 10.4099C1.76571 10.404 2.20705 10.3412 2.4587 10.194C2.45847 10.1941 2.4583 10.1942 2.4587 10.194C2.46075 10.1926 2.47161 10.1855 2.49271 10.1693C2.51674 10.1508 2.54777 10.1254 2.58634 10.0922C2.66358 10.0258 2.7615 9.93612 2.87917 9.82431C3.11419 9.60097 3.41488 9.30164 3.76339 8.94864C4.1317 8.57559 4.54478 8.15147 4.98424 7.70025C5.27761 7.39904 5.58273 7.08575 5.89415 6.76752C5.58272 6.44928 5.27759 6.13598 4.98421 5.83476C4.54476 5.38355 4.1317 4.95944 3.76339 4.5864C3.41488 4.2334 3.11419 3.93407 2.87917 3.71074C2.7615 3.59892 2.66358 3.50929 2.58634 3.44281C2.54777 3.40961 2.51674 3.38425 2.49271 3.36577C2.4716 3.34954 2.46099 3.34258 2.45894 3.34123C2.45868 3.34108 2.45853 3.34096 2.45894 3.34123C2.2073 3.19405 1.76572 3.13106 1.31133 3.12515C1.09799 3.12238 0.90473 3.13211 0.764728 3.14261C0.695017 3.14784 0.639243 3.15321 0.60165 3.15717C0.582871 3.15915 0.568682 3.16077 0.559616 3.16184L0.549944 3.16301L0.548391 3.1632C0.282436 3.1977 0.0386882 3.01013 0.00410824 2.74417C-0.0304782 2.47816 0.15713 2.23447 0.423143 2.19989L0.485767 2.68154C0.423143 2.19989 0.423048 2.1999 0.423143 2.19989L0.425557 2.19958L0.43012 2.199L0.445496 2.19714C0.458455 2.19561 0.476761 2.19352 0.499864 2.19109C0.546037 2.18622 0.611577 2.17995 0.692065 2.17391C0.852462 2.16188 1.07514 2.15058 1.32395 2.15381C1.79381 2.15992 2.46156 2.21726 2.94938 2.50267C3.03686 2.55385 3.13287 2.63152 3.22005 2.70655C3.31437 2.78773 3.42516 2.8895 3.54834 3.00655C3.79502 3.24097 4.10458 3.54931 4.45467 3.9039C4.82109 4.27504 5.24052 4.70565 5.68455 5.16153C5.97361 5.4583 6.2731 5.76578 6.57518 6.07452C7.35822 5.28174 8.14192 4.50454 8.81601 3.88014C9.20251 3.52214 9.55904 3.20872 9.86244 2.96964C10.1465 2.74581 10.4405 2.54035 10.6878 2.45997C10.8757 2.39892 11.175 2.37219 11.4757 2.35598C11.677 2.34514 11.9071 2.33807 12.1558 2.33396L12.2127 0Z\"\n                  /></svg>\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"playlist\">\n        <div class=\"playlist-bar\">\n          <div class=\"parallel-lines\">\n            <div></div>\n            <div></div>\n          </div>\n          <h2 class=\"playlist-title\" id=\"playlist\">Playlist</h2>\n          <div class=\"parallel-lines\">\n            <div></div>\n            <div></div>\n          </div>\n        </div>\n        <ul id=\"playlist-songs\"></ul>\n      </div>\n    </div>\n    <script src=\"script.js\"></script>\n  </body>\n</html>","head":"","tail":"","editableRegionBoundaries":[],"history":["index.html"]},{"fileKey":"stylescss","ext":"css","name":"styles","contents":":root {\n  /* colors */\n  --primary-color: #dfdfe2;\n  --secondary-color: #ffffff;\n  --app-background-color: #4d4d62;\n  --background-color: #1b1b32;\n  --foreground-color: #3b3b4f;\n  --highlight-color: #f1be32;\n\n  /* font sizes */\n  --root-font-size: 16px;\n  font-size: var(--root-font-size);\n\n  /* font-families */\n  --font-headline: \"Roboto Mono\", monospace;\n  --font-family: \"Lato\", sans-serif;\n}\n\n*,\n*::after,\n*::before {\n  box-sizing: border-box;\n}\n\nbody {\n  background-color: var(--app-background-color);\n  color: var(--primary-color);\n  font-family: var(--font-family);\n}\n\nh1 {\n  font-size: 1.125rem;\n  line-height: 1.6;\n}\n\nh2 {\n  font-size: var(--root-font-size);\n}\n\nul {\n  margin: 0;\n}\n\n.container {\n  margin-top: 10px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  row-gap: 5px;\n}\n\n.player,\n.playlist {\n  width: 450px;\n  background-color: var(--background-color);\n  border: 3px solid var(--foreground-color);\n}\n\n.player {\n  height: 260px;\n  padding: 10px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  row-gap: 10px;\n}\n\n.player-bar,\n.playlist-bar {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0 5px;\n  width: 100%;\n  height: 30px;\n  background-color: var(--foreground-color);\n}\n\n.parallel-lines {\n  display: flex;\n  flex-wrap: wrap;\n  row-gap: 6px;\n  padding: 0 5px;\n}\n\n.parallel-lines > div {\n  height: 2px;\n  width: 100%;\n  min-width: 75px;\n  background-color: var(--highlight-color);\n}\n\n.fcc-title,\n.playlist-title {\n  color: var(--secondary-color);\n  margin: 0 10px;\n  font-family: var(--font-headline);\n}\n\n.player-content {\n  display: flex;\n  background-color: var(--foreground-color);\n  width: 430px;\n  height: 200px;\n  column-gap: 13px;\n  align-items: center;\n  justify-content: center;\n}\n\n#player-album-art {\n  background-color: var(--secondary-color);\n  border: 6px solid var(--background-color);\n}\n\n#player-album-art img {\n  width: 150px;\n  display: block;\n}\n\n.player-display {\n  display: flex;\n  flex-direction: column;\n  row-gap: 20px;\n  padding: 14px;\n  background-color: var(--background-color);\n  height: 153px;\n  width: 226px;\n}\n\n.player-display-song-artist {\n  height: 80px;\n}\n\n.player-buttons svg {\n  fill: var(--primary-color);\n}\n\n.playing > svg {\n  fill: var(--highlight-color);\n}\n\n.player-buttons {\n  display: flex;\n  justify-content: space-around;\n}\n\nbutton {\n  background: transparent;\n  border: none;\n  color: var(--primary-color);\n  cursor: pointer;\n  font-size: var(--root-font-size);\n  outline-color: var(--highlight-color);\n  text-align: center;\n}\n\n.playlist-song {\n  outline-color: var(--highlight-color);\n}\n\n.playlist li:not(:last-child) {\n  border-bottom: 1px solid var(--background-color);\n}\n\nbutton:focus,\n.playlist-song:focus {\n  outline-style: dashed;\n  outline-width: 2px;\n}\n\n/* Playlist */\n.playlist {\n  height: auto;\n  padding: 10px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  row-gap: 10px;\n}\n\n#playlist-songs {\n  width: 430px;\n  height: 100%;\n  background-color: var(--foreground-color);\n  display: flex;\n  flex-direction: column;\n  row-gap: 8px;\n  padding: 8px 9px;\n  visibility: visible;\n  justify-content: start;\n  list-style: none;\n}\n\n.playlist-song {\n  display: flex;\n  height: 55px;\n  justify-content: space-between;\n  align-items: center;\n  padding: 5px;\n}\n\n[aria-current=\"true\"] {\n  background-color: var(--background-color);\n}\n\n[aria-current=\"true\"] p {\n  color: var(--highlight-color);\n}\n\n.playlist-song-info {\n  height: 100%;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-around;\n  column-gap: 7px;\n  padding: 5px 0;\n  font-family: var(--font-family);\n}\n\n#player-song-title,\n#player-song-artist {\n  margin: 0;\n}\n\n#player-song-artist {\n  color: var(--highlight-color);\n  font-size: 0.75rem;\n}\n\n#player-song-title {\n  font-size: 1.125rem;\n}\n\n.playlist-song-title {\n  font-size: 0.85rem;\n  width: 241px;\n  text-align: left;\n}\n\n.playlist-song-artist {\n  font-size: 0.725rem;\n  width: 80px;\n}\n\n.playlist-song-duration {\n  font-size: 0.725rem;\n  margin: auto;\n  font-family: var(--font-headline);\n  width: 30px;\n}\n\n.playlist-song-delete {\n  padding: 0;\n  width: 20px;\n  height: 20px;\n}\n\n.playlist-song-delete,\n.playlist-song-delete {\n  fill: var(--foreground-color);\n}\n\n.playlist-song-delete:hover circle,\n.playlist-song-delete:focus circle {\n  fill: #ff0000;\n}\n\n@media (max-width: 700px) {\n  .player,\n  .playlist {\n    width: 300px;\n  }\n\n  .player {\n    height: 340px;\n  }\n\n  #playlist-songs {\n    height: 280px;\n    padding: 5px 6px;\n    overflow-y: scroll;\n    overflow-x: hidden;\n    scrollbar-color: var(--background-color) var(--secondary-color);\n    scrollbar-width: thin;\n  }\n\n  #playlist-songs::-webkit-scrollbar {\n    width: 5px;\n  }\n\n  #playlist-songs::-webkit-scrollbar-track {\n    background: var(--background-color);\n  }\n\n  #playlist-songs::-webkit-scrollbar-thumb {\n    background: var(--secondary-color);\n  }\n\n  h1 {\n    font-size: 0.813rem;\n  }\n\n  h2 {\n    font-size: 0.75rem;\n  }\n\n  .player-bar,\n  .playlist-bar,\n  .player-content,\n  #playlist-songs {\n    width: 280px;\n  }\n\n  .playlist-song {\n    justify-content: space-between;\n  }\n\n  .playlist-song-title {\n    width: 140px;\n  }\n\n  .playlist-song-artist {\n    width: 40px;\n  }\n\n  .playlist-song-duration > button {\n    padding: 0;\n  }\n\n  .player-content {\n    display: inline;\n    position: relative;\n    justify-items: center;\n    height: 100%;\n  }\n\n  #player-album-art {\n    z-index: -100;\n    height: 280px;\n    box-shadow: none;\n    background: #000;\n  }\n\n  #player-album-art img {\n    width: 100%;\n    opacity: 0.6;\n  }\n\n  .player-display-song-artist {\n    padding: 0 10px;\n  }\n\n  .player-display-song-artist > p {\n    white-space: pre-wrap;\n  }\n\n  .player-display {\n    position: absolute;\n    width: 100%;\n    z-index: 1000;\n    background-color: transparent;\n    top: 0;\n    height: 280px;\n    justify-content: space-between;\n    text-align: center;\n  }\n}","head":"","tail":"","editableRegionBoundaries":[],"history":["styles.css"]},{"fileKey":"scriptjs","ext":"js","name":"script","contents":"const playlistSongs = document.getElementById(\"playlist-songs\");\nconst playButton = document.getElementById(\"play\");\nconst pauseButton = document.getElementById(\"pause\");\nconst nextButton = document.getElementById(\"next\");\nconst previousButton = document.getElementById(\"previous\");\nconst shuffleButton = document.getElementById(\"shuffle\");\n\nconst allSongs = [\n  {\n    id: 0,\n    title: \"Scratching The Surface\",\n    artist: \"Quincy Larson\",\n    duration: \"4:25\",\n    src: \"https://cdn.freecodecamp.org/curriculum/js-music-player/scratching-the-surface.mp3\",\n  },\n  {\n    id: 1,\n    title: \"Can't Stay Down\",\n    artist: \"Quincy Larson\",\n    duration: \"4:15\",\n    src: \"https://cdn.freecodecamp.org/curriculum/js-music-player/can't-stay-down.mp3\",\n  },\n  {\n    id: 2,\n    title: \"Still Learning\",\n    artist: \"Quincy Larson\",\n    duration: \"3:51\",\n    src: \"https://cdn.freecodecamp.org/curriculum/js-music-player/still-learning.mp3\",\n  },\n  {\n    id: 3,\n    title: \"Cruising for a Musing\",\n    artist: \"Quincy Larson\",\n    duration: \"3:34\",\n    src: \"https://cdn.freecodecamp.org/curriculum/js-music-player/cruising-for-a-musing.mp3\",\n  },\n  {\n    id: 4,\n    title: \"Never Not Favored\",\n    artist: \"Quincy Larson\",\n    duration: \"3:35\",\n    src: \"https://cdn.freecodecamp.org/curriculum/js-music-player/never-not-favored.mp3\",\n  },\n  {\n    id: 5,\n    title: \"From the Ground Up\",\n    artist: \"Quincy Larson\",\n    duration: \"3:12\",\n    src: \"https://cdn.freecodecamp.org/curriculum/js-music-player/from-the-ground-up.mp3\",\n  },\n  {\n    id: 6,\n    title: \"Walking on Air\",\n    artist: \"Quincy Larson\",\n    duration: \"3:25\",\n    src: \"https://cdn.freecodecamp.org/curriculum/js-music-player/walking-on-air.mp3\",\n  },\n  {\n    id: 7,\n    title: \"Can't Stop Me. Can't Even Slow Me Down.\",\n    artist: \"Quincy Larson\",\n    duration: \"3:52\",\n    src: \"https://cdn.freecodecamp.org/curriculum/js-music-player/cant-stop-me-cant-even-slow-me-down.mp3\",\n  },\n  {\n    id: 8,\n    title: \"The Surest Way Out is Through\",\n    artist: \"Quincy Larson\",\n    duration: \"3:10\",\n    src: \"https://cdn.freecodecamp.org/curriculum/js-music-player/the-surest-way-out-is-through.mp3\",\n  },\n  {\n    id: 9,\n    title: \"Chasing That Feeling\",\n    artist: \"Quincy Larson\",\n    duration: \"2:43\",\n    src: \"https://cdn.freecodecamp.org/curriculum/js-music-player/chasing-that-feeling.mp3\",\n  },\n];\n\nconst audio = new Audio();\nlet userData = {\n  songs: [...allSongs],\n  currentSong: null,\n  songCurrentTime: 0,\n};\n\nconst playSong = (id) => {\n  const song = userData?.songs.find((song) => song.id === id);\n  audio.src = song.src;\n  audio.title = song.title;\n\n  if (userData?.currentSong === null || userData?.currentSong.id !== song.id) {\n    audio.currentTime = 0;\n  } else {\n    audio.currentTime = userData?.songCurrentTime;\n  }\n  userData.currentSong = song;\n  playButton.classList.add(\"playing\");\n\n  highlightCurrentSong();\n  setPlayerDisplay();\n  setPlayButtonAccessibleText();\n  audio.play();\n};\n\nconst pauseSong = () => {\n  userData.songCurrentTime = audio.currentTime;\n  \n  playButton.classList.remove(\"playing\");\n  audio.pause();\n};\n\nconst playNextSong = () => {\n  if (userData?.currentSong === null) {\n    playSong(userData?.songs[0].id);\n  } else {\n    const currentSongIndex = getCurrentSongIndex();\n    const nextSong = userData?.songs[currentSongIndex + 1];\n\n    playSong(nextSong.id);\n  }\n};\n\nconst playPreviousSong = () => {\n   if (userData?.currentSong === null) return;\n   else {\n    const currentSongIndex = getCurrentSongIndex();\n    const previousSong = userData?.songs[currentSongIndex - 1];\n\n    playSong(previousSong.id);\n   }\n};\n\nconst shuffle = () => {\n  userData?.songs.sort(() => Math.random() - 0.5);\n  userData.currentSong = null;\n  userData.songCurrentTime = 0;\n\n  renderSongs(userData?.songs);\n  pauseSong();\n  setPlayerDisplay();\n  setPlayButtonAccessibleText();\n};\n\nconst deleteSong = (id) => {\n  if (userData?.currentSong?.id === id) {\n    userData.currentSong = null;\n    userData.songCurrentTime = 0;\n\n    pauseSong();\n    setPlayerDisplay();\n  }\n\n  userData.songs = userData?.songs.filter((song) => song.id !== id);\n  renderSongs(userData?.songs); \n  highlightCurrentSong(); \n  setPlayButtonAccessibleText(); \n\n  if (userData?.songs.length === 0) {\n    const resetButton = document.createElement(\"button\");\n  \n  \n  }\n\n};\n\nconst setPlayerDisplay = () => {\n  const playingSong = document.getElementById(\"player-song-title\");\n  const songArtist = document.getElementById(\"player-song-artist\");\n  const currentTitle = userData?.currentSong?.title;\n  const currentArtist = userData?.currentSong?.artist;\n\n  playingSong.textContent = currentTitle ? currentTitle : \"\";\n  songArtist.textContent = currentArtist ? currentArtist : \"\";\n};\n\nconst highlightCurrentSong = () => {\n  const playlistSongElements = document.querySelectorAll(\".playlist-song\");\n  const songToHighlight = document.getElementById(\n    `song-${userData?.currentSong?.id}`\n  );\n\n  playlistSongElements.forEach((songEl) => {\n    songEl.removeAttribute(\"aria-current\");\n  });\n\n  if (songToHighlight) songToHighlight.setAttribute(\"aria-current\", \"true\");\n};\n\nconst renderSongs = (array) => {\n  const songsHTML = array\n    .map((song)=> {\n      return `\n      <li id=\"song-${song.id}\" class=\"playlist-song\">\n      <button class=\"playlist-song-info\" onclick=\"playSong(${song.id})\">\n          <span class=\"playlist-song-title\">${song.title}</span>\n          <span class=\"playlist-song-artist\">${song.artist}</span>\n          <span class=\"playlist-song-duration\">${song.duration}</span>\n      </button>\n      <button onclick=\"deleteSong(${song.id})\" class=\"playlist-song-delete\" aria-label=\"Delete ${song.title}\">\n          <svg width=\"20\" height=\"20\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><circle cx=\"8\" cy=\"8\" r=\"8\" fill=\"#4d4d62\"/>\n          <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M5.32587 5.18571C5.7107 4.90301 6.28333 4.94814 6.60485 5.28651L8 6.75478L9.39515 5.28651C9.71667 4.94814 10.2893 4.90301 10.6741 5.18571C11.059 5.4684 11.1103 5.97188 10.7888 6.31026L9.1832 7.99999L10.7888 9.68974C11.1103 10.0281 11.059 10.5316 10.6741 10.8143C10.2893 11.097 9.71667 11.0519 9.39515 10.7135L8 9.24521L6.60485 10.7135C6.28333 11.0519 5.7107 11.097 5.32587 10.8143C4.94102 10.5316 4.88969 10.0281 5.21121 9.68974L6.8168 7.99999L5.21122 6.31026C4.8897 5.97188 4.94102 5.4684 5.32587 5.18571Z\" fill=\"white\"/></svg>\n        </button>\n      </li>\n      `;\n    })\n    .join(\"\");\n\n  playlistSongs.innerHTML = songsHTML;\n};\n\nconst setPlayButtonAccessibleText = () => {\n  const song = userData?.currentSong || userData?.songs[0];\n\n  playButton.setAttribute(\n    \"aria-label\",\n    song?.title ? `Play ${song.title}` : \"Play\"\n  );\n};\n\nconst getCurrentSongIndex = () => userData?.songs.indexOf(userData?.currentSong);\n\nplayButton.addEventListener(\"click\", () => {\n    if (userData?.currentSong === null) {\n    playSong(userData?.songs[0].id);\n  } else {\n    playSong(userData?.currentSong.id);\n  }\n});\n\npauseButton.addEventListener(\"click\",  pauseSong);\n\nnextButton.addEventListener(\"click\", playNextSong);\n\npreviousButton.addEventListener(\"click\", playPreviousSong);\n\nshuffleButton.addEventListener(\"click\", shuffle);\n\nconst sortSongs = () => {\n  userData?.songs.sort((a,b) => {\n    if (a.title < b.title) {\n      return -1;\n    }\n\n    if (a.title > b.title) {\n      return 1;\n    }\n\n    return 0;\n  });\n\n  return userData?.songs;\n};\n\nrenderSongs(sortSongs());","head":"","tail":"","editableRegionBoundaries":[159,165],"history":["script.js"]}]}}},"pageContext":{"challengeMeta":{"blockHashSlug":"/learn/javascript-algorithms-and-data-structures-v8/#learn-basic-string-and-array-methods-by-building-a-music-player","dashedName":"step-89","certification":"javascript-algorithms-and-data-structures-v8","disableLoopProtectTests":false,"disableLoopProtectPreview":false,"superBlock":"javascript-algorithms-and-data-structures-v8","block":"learn-basic-string-and-array-methods-by-building-a-music-player","isFirstStep":false,"template":null,"required":[],"nextBlock":"learn-basic-string-and-array-methods-by-building-a-music-player","nextChallengePath":"/learn/javascript-algorithms-and-data-structures-v8/learn-basic-string-and-array-methods-by-building-a-music-player/step-90","prevChallengePath":"/learn/javascript-algorithms-and-data-structures-v8/learn-basic-string-and-array-methods-by-building-a-music-player/step-88","id":"65672adafbaa37a6cef886f7"},"projectPreview":{"showProjectPreview":false,"challengeData":{"challengeType":0,"challengeFiles":[{"name":"index","ext":"html","contents":"<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"UTF-8\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n    <link\n      href=\"https://fonts.googleapis.com/css2?family=Roboto+Mono&display=swap\"\n      rel=\"stylesheet\"\n    />\n    <link\n      href=\"https://fonts.googleapis.com/css2?family=Lato&family=Roboto+Mono&display=swap\"\n      rel=\"stylesheet\"\n    />\n    <link rel=\"stylesheet\" href=\"styles.css\" />\n    <title>\n      Learn Basic String and Array Methods by Building a Music Player App\n    </title>\n  </head>\n\n  <body>\n    <div class=\"container\">\n      <div class=\"player\">\n        <div class=\"player-bar\">\n          <div class=\"parallel-lines\">\n            <div></div>\n            <div></div>\n          </div>\n          <h1 class=\"fcc-title\">freeCodeCamp</h1>\n          <div class=\"parallel-lines\">\n            <div></div>\n            <div></div>\n          </div>\n        </div>\n        <div class=\"player-content\">\n          <div id=\"player-album-art\">\n            <img\n              src=\"https://cdn.freecodecamp.org/curriculum/js-music-player/quincy-larson-album-art.jpg\"\n              alt=\"song cover art\"\n            />\n          </div>\n          <div class=\"player-display\">\n            <div class=\"player-display-song-artist\">\n              <p id=\"player-song-title\"></p>\n              <p id=\"player-song-artist\"></p>\n            </div>\n            <div class=\"player-buttons\">\n              <button id=\"previous\" class=\"previous\" aria-label=\"Previous\">\n                <svg\n                  width=\"24\"\n                  height=\"19\"\n                  viewBox=\"0 0 24 19\"\n                  fill=\"none\"\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                ><path d=\"M23.2248 0L7.03964 9.5L23.2248 19L23.2248 0Z\" /><rect\n                    width=\"4.63633\"\n                    height=\"18.5453\"\n                    transform=\"matrix(-1 0 0 1 4.63633 0)\"/></svg>\n              </button>\n              <button id=\"play\" class=\"play\" aria-label=\"Play\">\n                <svg\n                  width=\"17\"\n                  height=\"19\"\n                  viewBox=\"0 0 17 19\"\n                  fill=\"none\"\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                > <path d=\"M0 0L16.1852 9.5L1.88952e-07 19L0 0Z\" /></svg>\n              </button>\n              <button id=\"pause\" class=\"pause\" aria-label=\"Pause\">\n                <svg\n                  width=\"17\"\n                  height=\"19\"\n                  viewBox=\"0 0 17 19\"\n                  fill=\"none\"\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                ><path d=\"M0 6.54013e-07H4.75V19H0V6.54013e-07Z\" /> <path d=\"M11.4 0H16.15V19H11.4V0Z\" /></svg>\n              </button>\n              <button id=\"next\" class=\"next\" aria-label=\"Next\">\n                <svg\n                  width=\"24\"\n                  height=\"19\"\n                  viewBox=\"0 0 24 19\"\n                  fill=\"none\"\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                ><path d=\"M0 0L16.1852 9.5L1.88952e-07 19L0 0Z\" /> <rect x=\"18.5885\" width=\"4.63633\" height=\"18.5453\" /></svg>\n              </button>\n              <button id=\"shuffle\" class=\"shuffle\" aria-label=\"Shuffle\">\n                <svg\n                  width=\"17\"\n                  height=\"14\"\n                  viewBox=\"0 0 17 14\"\n                  fill=\"none\"\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                ><path\n                    fill-rule=\"evenodd\"\n                    clip-rule=\"evenodd\"\n                    d=\"M12.2127 0L17 2.9219L12.0759 5.60686L12.1321 3.30594C11.9081 3.30997 11.7043 3.3165 11.528 3.326C11.3777 3.3341 11.2523 3.34411 11.1542 3.35578C11.1053 3.3616 11.0661 3.36749 11.036 3.37309C11.0211 3.37587 11.0095 3.37835 11.001 3.38041C10.9967 3.38143 10.9936 3.38227 10.9913 3.38289C10.989 3.38352 10.988 3.38385 10.9881 3.38382C10.9266 3.40381 10.7572 3.5014 10.4637 3.73265C10.1895 3.94866 9.85452 4.24234 9.47614 4.59282C8.81462 5.20556 8.03912 5.97461 7.25609 6.76752C8.03912 7.56043 8.81462 8.32948 9.47614 8.94223C9.85452 9.29271 10.1895 9.58639 10.4637 9.80239C10.7572 10.0336 10.9266 10.1312 10.9881 10.1512C10.988 10.1512 10.989 10.1515 10.9913 10.1522C10.9936 10.1528 10.9967 10.1536 11.001 10.1546C11.0095 10.1567 11.0211 10.1592 11.036 10.162C11.0661 10.1676 11.1053 10.1734 11.1542 10.1793C11.2523 10.1909 11.3777 10.2009 11.528 10.209C11.7043 10.2185 11.9081 10.2251 12.1321 10.2291L12.0759 7.92819L17 10.6131L12.2127 13.535L12.1558 11.2011C11.9071 11.197 11.677 11.1899 11.4757 11.1791C11.175 11.1629 10.8757 11.1361 10.6878 11.0751C10.4405 10.9947 10.1465 10.7892 9.86244 10.5654C9.55904 10.3263 9.20251 10.0129 8.81601 9.6549C8.14192 9.03051 7.35822 8.2533 6.57518 7.46052C6.2731 7.76927 5.9736 8.07675 5.68453 8.37353C5.24051 8.8294 4.82109 9.26001 4.45467 9.63114C4.10458 9.98574 3.79502 10.2941 3.54834 10.5285C3.42516 10.6455 3.31437 10.7473 3.22005 10.8285C3.13287 10.9035 3.03686 10.9812 2.94938 11.0324C2.46156 11.3178 1.79381 11.3751 1.32395 11.3812C1.07514 11.3845 0.852462 11.3732 0.692065 11.3611C0.611577 11.3551 0.546037 11.3488 0.499864 11.344C0.476761 11.3415 0.458455 11.3394 0.445496 11.3379L0.43012 11.336L0.425557 11.3355L0.423542 11.3352C0.423448 11.3352 0.423143 11.3352 0.485767 10.8535L0.423542 11.3352C0.157529 11.3006 -0.0304782 11.0569 0.00410824 10.7909C0.0386807 10.525 0.282182 10.3374 0.548069 10.3718C0.548087 10.3718 0.548051 10.3718 0.548069 10.3718L0.549944 10.372L0.559616 10.3732C0.568682 10.3743 0.582871 10.3759 0.60165 10.3779C0.639243 10.3818 0.695017 10.3872 0.764728 10.3924C0.90473 10.4029 1.09799 10.4127 1.31133 10.4099C1.76571 10.404 2.20705 10.3412 2.4587 10.194C2.45847 10.1941 2.4583 10.1942 2.4587 10.194C2.46075 10.1926 2.47161 10.1855 2.49271 10.1693C2.51674 10.1508 2.54777 10.1254 2.58634 10.0922C2.66358 10.0258 2.7615 9.93612 2.87917 9.82431C3.11419 9.60097 3.41488 9.30164 3.76339 8.94864C4.1317 8.57559 4.54478 8.15147 4.98424 7.70025C5.27761 7.39904 5.58273 7.08575 5.89415 6.76752C5.58272 6.44928 5.27759 6.13598 4.98421 5.83476C4.54476 5.38355 4.1317 4.95944 3.76339 4.5864C3.41488 4.2334 3.11419 3.93407 2.87917 3.71074C2.7615 3.59892 2.66358 3.50929 2.58634 3.44281C2.54777 3.40961 2.51674 3.38425 2.49271 3.36577C2.4716 3.34954 2.46099 3.34258 2.45894 3.34123C2.45868 3.34108 2.45853 3.34096 2.45894 3.34123C2.2073 3.19405 1.76572 3.13106 1.31133 3.12515C1.09799 3.12238 0.90473 3.13211 0.764728 3.14261C0.695017 3.14784 0.639243 3.15321 0.60165 3.15717C0.582871 3.15915 0.568682 3.16077 0.559616 3.16184L0.549944 3.16301L0.548391 3.1632C0.282436 3.1977 0.0386882 3.01013 0.00410824 2.74417C-0.0304782 2.47816 0.15713 2.23447 0.423143 2.19989L0.485767 2.68154C0.423143 2.19989 0.423048 2.1999 0.423143 2.19989L0.425557 2.19958L0.43012 2.199L0.445496 2.19714C0.458455 2.19561 0.476761 2.19352 0.499864 2.19109C0.546037 2.18622 0.611577 2.17995 0.692065 2.17391C0.852462 2.16188 1.07514 2.15058 1.32395 2.15381C1.79381 2.15992 2.46156 2.21726 2.94938 2.50267C3.03686 2.55385 3.13287 2.63152 3.22005 2.70655C3.31437 2.78773 3.42516 2.8895 3.54834 3.00655C3.79502 3.24097 4.10458 3.54931 4.45467 3.9039C4.82109 4.27504 5.24052 4.70565 5.68455 5.16153C5.97361 5.4583 6.2731 5.76578 6.57518 6.07452C7.35822 5.28174 8.14192 4.50454 8.81601 3.88014C9.20251 3.52214 9.55904 3.20872 9.86244 2.96964C10.1465 2.74581 10.4405 2.54035 10.6878 2.45997C10.8757 2.39892 11.175 2.37219 11.4757 2.35598C11.677 2.34514 11.9071 2.33807 12.1558 2.33396L12.2127 0Z\"\n                  /></svg>\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"playlist\">\n        <div class=\"playlist-bar\">\n          <div class=\"parallel-lines\">\n            <div></div>\n            <div></div>\n          </div>\n          <h2 class=\"playlist-title\" id=\"playlist\">Playlist</h2>\n          <div class=\"parallel-lines\">\n            <div></div>\n            <div></div>\n          </div>\n        </div>\n        <ul id=\"playlist-songs\"></ul>\n      </div>\n    </div>\n    <script src=\"script.js\"></script>\n  </body>\n</html>","head":"","tail":"","history":["index.html"],"fileKey":"indexhtml"},{"name":"styles","ext":"css","contents":":root {\n  /* colors */\n  --primary-color: #dfdfe2;\n  --secondary-color: #ffffff;\n  --app-background-color: #4d4d62;\n  --background-color: #1b1b32;\n  --foreground-color: #3b3b4f;\n  --highlight-color: #f1be32;\n\n  /* font sizes */\n  --root-font-size: 16px;\n  font-size: var(--root-font-size);\n\n  /* font-families */\n  --font-headline: \"Roboto Mono\", monospace;\n  --font-family: \"Lato\", sans-serif;\n}\n\n*,\n*::after,\n*::before {\n  box-sizing: border-box;\n}\n\nbody {\n  background-color: var(--app-background-color);\n  color: var(--primary-color);\n  font-family: var(--font-family);\n}\n\nh1 {\n  font-size: 1.125rem;\n  line-height: 1.6;\n}\n\nh2 {\n  font-size: var(--root-font-size);\n}\n\nul {\n  margin: 0;\n}\n\n.container {\n  margin-top: 10px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  row-gap: 5px;\n}\n\n.player,\n.playlist {\n  width: 450px;\n  background-color: var(--background-color);\n  border: 3px solid var(--foreground-color);\n}\n\n.player {\n  height: 260px;\n  padding: 10px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  row-gap: 10px;\n}\n\n.player-bar,\n.playlist-bar {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0 5px;\n  width: 100%;\n  height: 30px;\n  background-color: var(--foreground-color);\n}\n\n.parallel-lines {\n  display: flex;\n  flex-wrap: wrap;\n  row-gap: 6px;\n  padding: 0 5px;\n}\n\n.parallel-lines > div {\n  height: 2px;\n  width: 100%;\n  min-width: 75px;\n  background-color: var(--highlight-color);\n}\n\n.fcc-title,\n.playlist-title {\n  color: var(--secondary-color);\n  margin: 0 10px;\n  font-family: var(--font-headline);\n}\n\n.player-content {\n  display: flex;\n  background-color: var(--foreground-color);\n  width: 430px;\n  height: 200px;\n  column-gap: 13px;\n  align-items: center;\n  justify-content: center;\n}\n\n#player-album-art {\n  background-color: var(--secondary-color);\n  border: 6px solid var(--background-color);\n}\n\n#player-album-art img {\n  width: 150px;\n  display: block;\n}\n\n.player-display {\n  display: flex;\n  flex-direction: column;\n  row-gap: 20px;\n  padding: 14px;\n  background-color: var(--background-color);\n  height: 153px;\n  width: 226px;\n}\n\n.player-display-song-artist {\n  height: 80px;\n}\n\n.player-buttons svg {\n  fill: var(--primary-color);\n}\n\n.playing > svg {\n  fill: var(--highlight-color);\n}\n\n.player-buttons {\n  display: flex;\n  justify-content: space-around;\n}\n\nbutton {\n  background: transparent;\n  border: none;\n  color: var(--primary-color);\n  cursor: pointer;\n  font-size: var(--root-font-size);\n  outline-color: var(--highlight-color);\n  text-align: center;\n}\n\n.playlist-song {\n  outline-color: var(--highlight-color);\n}\n\n.playlist li:not(:last-child) {\n  border-bottom: 1px solid var(--background-color);\n}\n\nbutton:focus,\n.playlist-song:focus {\n  outline-style: dashed;\n  outline-width: 2px;\n}\n\n/* Playlist */\n.playlist {\n  height: auto;\n  padding: 10px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  row-gap: 10px;\n}\n\n#playlist-songs {\n  width: 430px;\n  height: 100%;\n  background-color: var(--foreground-color);\n  display: flex;\n  flex-direction: column;\n  row-gap: 8px;\n  padding: 8px 9px;\n  visibility: visible;\n  justify-content: start;\n  list-style: none;\n}\n\n.playlist-song {\n  display: flex;\n  height: 55px;\n  justify-content: space-between;\n  align-items: center;\n  padding: 5px;\n}\n\n[aria-current=\"true\"] {\n  background-color: var(--background-color);\n}\n\n[aria-current=\"true\"] p {\n  color: var(--highlight-color);\n}\n\n.playlist-song-info {\n  height: 100%;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-around;\n  column-gap: 7px;\n  padding: 5px 0;\n  font-family: var(--font-family);\n}\n\n#player-song-title,\n#player-song-artist {\n  margin: 0;\n}\n\n#player-song-artist {\n  color: var(--highlight-color);\n  font-size: 0.75rem;\n}\n\n#player-song-title {\n  font-size: 1.125rem;\n}\n\n.playlist-song-title {\n  font-size: 0.85rem;\n  width: 241px;\n  text-align: left;\n}\n\n.playlist-song-artist {\n  font-size: 0.725rem;\n  width: 80px;\n}\n\n.playlist-song-duration {\n  font-size: 0.725rem;\n  margin: auto;\n  font-family: var(--font-headline);\n  width: 30px;\n}\n\n.playlist-song-delete {\n  padding: 0;\n  width: 20px;\n  height: 20px;\n}\n\n.playlist-song-delete,\n.playlist-song-delete {\n  fill: var(--foreground-color);\n}\n\n.playlist-song-delete:hover circle,\n.playlist-song-delete:focus circle {\n  fill: #ff0000;\n}\n\n@media (max-width: 700px) {\n  .player,\n  .playlist {\n    width: 300px;\n  }\n\n  .player {\n    height: 340px;\n  }\n\n  #playlist-songs {\n    height: 280px;\n    padding: 5px 6px;\n    overflow-y: scroll;\n    overflow-x: hidden;\n    scrollbar-color: var(--background-color) var(--secondary-color);\n    scrollbar-width: thin;\n  }\n\n  #playlist-songs::-webkit-scrollbar {\n    width: 5px;\n  }\n\n  #playlist-songs::-webkit-scrollbar-track {\n    background: var(--background-color);\n  }\n\n  #playlist-songs::-webkit-scrollbar-thumb {\n    background: var(--secondary-color);\n  }\n\n  h1 {\n    font-size: 0.813rem;\n  }\n\n  h2 {\n    font-size: 0.75rem;\n  }\n\n  .player-bar,\n  .playlist-bar,\n  .player-content,\n  #playlist-songs {\n    width: 280px;\n  }\n\n  .playlist-song {\n    justify-content: space-between;\n  }\n\n  .playlist-song-title {\n    width: 140px;\n  }\n\n  .playlist-song-artist {\n    width: 40px;\n  }\n\n  .playlist-song-duration > button {\n    padding: 0;\n  }\n\n  .player-content {\n    display: inline;\n    position: relative;\n    justify-items: center;\n    height: 100%;\n  }\n\n  #player-album-art {\n    z-index: -100;\n    height: 280px;\n    box-shadow: none;\n    background: #000;\n  }\n\n  #player-album-art img {\n    width: 100%;\n    opacity: 0.6;\n  }\n\n  .player-display-song-artist {\n    padding: 0 10px;\n  }\n\n  .player-display-song-artist > p {\n    white-space: pre-wrap;\n  }\n\n  .player-display {\n    position: absolute;\n    width: 100%;\n    z-index: 1000;\n    background-color: transparent;\n    top: 0;\n    height: 280px;\n    justify-content: space-between;\n    text-align: center;\n  }\n}","head":"","tail":"","history":["styles.css"],"fileKey":"stylescss"},{"name":"script","ext":"js","contents":"const playlistSongs = document.getElementById(\"playlist-songs\");\nconst playButton = document.getElementById(\"play\");\nconst pauseButton = document.getElementById(\"pause\");\nconst nextButton = document.getElementById(\"next\");\nconst previousButton = document.getElementById(\"previous\");\nconst shuffleButton = document.getElementById(\"shuffle\");\n\nconst allSongs = [\n  {\n    id: 0,\n    title: \"Scratching The Surface\",\n    artist: \"Quincy Larson\",\n    duration: \"4:25\",\n    src: \"https://cdn.freecodecamp.org/curriculum/js-music-player/scratching-the-surface.mp3\",\n  },\n  {\n    id: 1,\n    title: \"Can't Stay Down\",\n    artist: \"Quincy Larson\",\n    duration: \"4:15\",\n    src: \"https://cdn.freecodecamp.org/curriculum/js-music-player/can't-stay-down.mp3\",\n  },\n  {\n    id: 2,\n    title: \"Still Learning\",\n    artist: \"Quincy Larson\",\n    duration: \"3:51\",\n    src: \"https://cdn.freecodecamp.org/curriculum/js-music-player/still-learning.mp3\",\n  },\n  {\n    id: 3,\n    title: \"Cruising for a Musing\",\n    artist: \"Quincy Larson\",\n    duration: \"3:34\",\n    src: \"https://cdn.freecodecamp.org/curriculum/js-music-player/cruising-for-a-musing.mp3\",\n  },\n  {\n    id: 4,\n    title: \"Never Not Favored\",\n    artist: \"Quincy Larson\",\n    duration: \"3:35\",\n    src: \"https://cdn.freecodecamp.org/curriculum/js-music-player/never-not-favored.mp3\",\n  },\n  {\n    id: 5,\n    title: \"From the Ground Up\",\n    artist: \"Quincy Larson\",\n    duration: \"3:12\",\n    src: \"https://cdn.freecodecamp.org/curriculum/js-music-player/from-the-ground-up.mp3\",\n  },\n  {\n    id: 6,\n    title: \"Walking on Air\",\n    artist: \"Quincy Larson\",\n    duration: \"3:25\",\n    src: \"https://cdn.freecodecamp.org/curriculum/js-music-player/walking-on-air.mp3\",\n  },\n  {\n    id: 7,\n    title: \"Can't Stop Me. Can't Even Slow Me Down.\",\n    artist: \"Quincy Larson\",\n    duration: \"3:52\",\n    src: \"https://cdn.freecodecamp.org/curriculum/js-music-player/cant-stop-me-cant-even-slow-me-down.mp3\",\n  },\n  {\n    id: 8,\n    title: \"The Surest Way Out is Through\",\n    artist: \"Quincy Larson\",\n    duration: \"3:10\",\n    src: \"https://cdn.freecodecamp.org/curriculum/js-music-player/the-surest-way-out-is-through.mp3\",\n  },\n  {\n    id: 9,\n    title: \"Chasing That Feeling\",\n    artist: \"Quincy Larson\",\n    duration: \"2:43\",\n    src: \"https://cdn.freecodecamp.org/curriculum/js-music-player/chasing-that-feeling.mp3\",\n  },\n];\n\nconst audio = new Audio();\nlet userData = {\n  songs: [...allSongs],\n  currentSong: null,\n  songCurrentTime: 0,\n};\n\nconst playSong = (id) => {\n  const song = userData?.songs.find((song) => song.id === id);\n  audio.src = song.src;\n  audio.title = song.title;\n\n  if (userData?.currentSong === null || userData?.currentSong.id !== song.id) {\n    audio.currentTime = 0;\n  } else {\n    audio.currentTime = userData?.songCurrentTime;\n  }\n  userData.currentSong = song;\n  playButton.classList.add(\"playing\");\n\n  highlightCurrentSong();\n  setPlayerDisplay();\n  setPlayButtonAccessibleText();\n  audio.play();\n};\n\nconst pauseSong = () => {\n  userData.songCurrentTime = audio.currentTime;\n  \n  playButton.classList.remove(\"playing\");\n  audio.pause();\n};\n\nconst playNextSong = () => {\n  if (userData?.currentSong === null) {\n    playSong(userData?.songs[0].id);\n  } else {\n    const currentSongIndex = getCurrentSongIndex();\n    const nextSong = userData?.songs[currentSongIndex + 1];\n\n    playSong(nextSong.id);\n  }\n};\n\nconst playPreviousSong = () =>{\n   if (userData?.currentSong === null) return;\n   else {\n    const currentSongIndex = getCurrentSongIndex();\n    const previousSong = userData?.songs[currentSongIndex - 1];\n\n    playSong(previousSong.id);\n   }\n};\n\nconst shuffle = () => {\n  userData?.songs.sort(() => Math.random() - 0.5);\n  userData.currentSong = null;\n  userData.songCurrentTime = 0;\n\n  renderSongs(userData?.songs);\n  pauseSong();\n  setPlayerDisplay();\n  setPlayButtonAccessibleText();\n};\n\nconst deleteSong = (id) => {\n  if (userData?.currentSong?.id === id) {\n    userData.currentSong = null;\n    userData.songCurrentTime = 0;\n\n    pauseSong();\n    setPlayerDisplay();\n  }\n\n  userData.songs = userData?.songs.filter((song) => song.id !== id);\n  renderSongs(userData?.songs); \n  highlightCurrentSong(); \n  setPlayButtonAccessibleText(); \n\n  if (userData?.songs.length === 0) {\n    const resetButton = document.createElement(\"button\");\n    const resetText = document.createTextNode(\"Reset Playlist\");\n\n    resetButton.id = \"reset\";\n    resetButton.ariaLabel = \"Reset playlist\";\n    resetButton.appendChild(resetText);\n    playlistSongs.appendChild(resetButton);\n\n    resetButton.addEventListener(\"click\", () => {\n      userData.songs = [...allSongs];\n\n      renderSongs(sortSongs()); \n      setPlayButtonAccessibleText();\n      resetButton.remove();\n    });\n\n  }\n\n};\n\nconst setPlayerDisplay = () => {\n  const playingSong = document.getElementById(\"player-song-title\");\n  const songArtist = document.getElementById(\"player-song-artist\");\n  const currentTitle = userData?.currentSong?.title;\n  const currentArtist = userData?.currentSong?.artist;\n\n  playingSong.textContent = currentTitle ? currentTitle : \"\";\n  songArtist.textContent = currentArtist ? currentArtist : \"\";\n};\n\nconst highlightCurrentSong = () => {\n  const playlistSongElements = document.querySelectorAll(\".playlist-song\");\n  const songToHighlight = document.getElementById(\n    `song-${userData?.currentSong?.id}`\n  );\n\n  playlistSongElements.forEach((songEl) => {\n    songEl.removeAttribute(\"aria-current\");\n  });\n\n  if (songToHighlight) songToHighlight.setAttribute(\"aria-current\", \"true\");\n};\n\nconst renderSongs = (array) => {\n  const songsHTML = array\n    .map((song)=> {\n      return `\n      <li id=\"song-${song.id}\" class=\"playlist-song\">\n      <button class=\"playlist-song-info\" onclick=\"playSong(${song.id})\">\n          <span class=\"playlist-song-title\">${song.title}</span>\n          <span class=\"playlist-song-artist\">${song.artist}</span>\n          <span class=\"playlist-song-duration\">${song.duration}</span>\n      </button>\n      <button onclick=\"deleteSong(${song.id})\" class=\"playlist-song-delete\" aria-label=\"Delete ${song.title}\">\n          <svg width=\"20\" height=\"20\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><circle cx=\"8\" cy=\"8\" r=\"8\" fill=\"#4d4d62\"/>\n          <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M5.32587 5.18571C5.7107 4.90301 6.28333 4.94814 6.60485 5.28651L8 6.75478L9.39515 5.28651C9.71667 4.94814 10.2893 4.90301 10.6741 5.18571C11.059 5.4684 11.1103 5.97188 10.7888 6.31026L9.1832 7.99999L10.7888 9.68974C11.1103 10.0281 11.059 10.5316 10.6741 10.8143C10.2893 11.097 9.71667 11.0519 9.39515 10.7135L8 9.24521L6.60485 10.7135C6.28333 11.0519 5.7107 11.097 5.32587 10.8143C4.94102 10.5316 4.88969 10.0281 5.21121 9.68974L6.8168 7.99999L5.21122 6.31026C4.8897 5.97188 4.94102 5.4684 5.32587 5.18571Z\" fill=\"white\"/></svg>\n        </button>\n      </li>\n      `;\n    })\n    .join(\"\");\n\n  playlistSongs.innerHTML = songsHTML;\n};\n\nconst setPlayButtonAccessibleText = () => {\n  const song = userData?.currentSong || userData?.songs[0];\n\n  playButton.setAttribute(\n    \"aria-label\",\n    song?.title ? `Play ${song.title}` : \"Play\"\n  );\n};\n\nconst getCurrentSongIndex = () => userData?.songs.indexOf(userData?.currentSong);\n\nplayButton.addEventListener(\"click\", () => {\n    if (userData?.currentSong === null) {\n    playSong(userData?.songs[0].id);\n  } else {\n    playSong(userData?.currentSong.id);\n  }\n});\n\npauseButton.addEventListener(\"click\",  pauseSong);\n\nnextButton.addEventListener(\"click\", playNextSong);\n\npreviousButton.addEventListener(\"click\", playPreviousSong);\n\nshuffleButton.addEventListener(\"click\", shuffle);\n\naudio.addEventListener(\"ended\", () => {\n  const currentSongIndex = getCurrentSongIndex();\n  const nextSongExists = userData?.songs[currentSongIndex + 1] !== undefined;\n\n    if (nextSongExists) {\n      playNextSong();\n    } else {\n      userData.currentSong = null;\n      userData.songCurrentTime = 0;\n\n      pauseSong(); \n      setPlayerDisplay(); \n      highlightCurrentSong(); \n      setPlayButtonAccessibleText();\n    }\n});\n\nconst sortSongs = () => {\n  userData?.songs.sort((a,b) => {\n    if (a.title < b.title) {\n      return -1;\n    }\n\n    if (a.title > b.title) {\n      return 1;\n    }\n\n    return 0;\n  });\n\n  return userData?.songs;\n};\n\nrenderSongs(sortSongs());\nsetPlayButtonAccessibleText();","head":"","tail":"","history":["script.js"],"fileKey":"scriptjs"}]}},"slug":"/learn/javascript-algorithms-and-data-structures-v8/learn-basic-string-and-array-methods-by-building-a-music-player/step-89"}},
    "staticQueryHashes": ["1800977889","4268002518"]}