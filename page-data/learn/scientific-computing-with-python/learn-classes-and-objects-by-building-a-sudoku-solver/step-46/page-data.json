{
    "componentChunkName": "component---src-templates-challenges-classic-show-tsx",
    "path": "/learn/scientific-computing-with-python/learn-classes-and-objects-by-building-a-sudoku-solver/step-46",
    "result": {"data":{"challengeNode":{"challenge":{"block":"learn-classes-and-objects-by-building-a-sudoku-solver","title":"Step 46","description":"<section id=\"description\">\n<p>Within the <code>Board</code> class, create another method <code>is_valid</code> and give it three parameters: <code>self</code>, <code>empty</code>, and <code>num</code>. Where <code>empty</code> is a tuple representing the row and column indices of an empty cell and <code>num</code> is the number to be checked.</p>\n<p>This method will check if a given number is a valid choice for an empty cell in the sudoku board by validating its compatibility with the row, column, and 3x3 square of the specified empty cell.</p>\n</section>","id":"6606d8c323d6205890fbbd54","hasEditableBoundaries":true,"instructions":null,"notes":null,"challengeType":20,"helpCategory":"Python","videoUrl":null,"superBlock":"scientific-computing-with-python","translationPending":false,"forumTopicId":null,"fields":{"blockName":"learn-classes-and-objects-by-building-a-sudoku-solver","slug":"/learn/scientific-computing-with-python/learn-classes-and-objects-by-building-a-sudoku-solver/step-46","tests":[{"text":"<p>You should create a new method named <code>is_valid</code> within the <code>Board</code> class.</p>","testString":"({ test: () => assert(runPython(`_Node(_code).find_class(\"Board\").has_function(\"is_valid\")`)) })"},{"text":"<p>Your <code>is_valid</code> method should have three parameters: <code>self</code>, <code>empty</code>, and <code>num</code>, in this order.</p>","testString":"({ test: () => assert(runPython(`_Node(_code).find_class(\"Board\").find_function(\"is_valid\").has_args(\"self, empty, num\")`)) })"}]},"required":[],"usesMultifileEditor":true,"challengeFiles":[{"fileKey":"mainpy","ext":"py","name":"main","contents":"class Board:\n    def __init__(self, board):\n        self.board = board\n\n    def find_empty_cell(self):\n        for row, contents in enumerate(self.board):\n            try:\n                col = contents.index(0)\n                return row, col\n            except ValueError:\n                pass\n        return None\n\n    def valid_in_row(self, row, num):\n        return num not in self.board[row]\n\n    def valid_in_col(self, col, num):\n        return all(self.board[row][col] != num for row in range(9))\n\n    def valid_in_square(self, row, col, num):\n        row_start = (row // 3) * 3\n        col_start = (col // 3) * 3\n        for row_no in range(row_start, row_start + 3):\n            for col_no in range(col_start, col_start + 3):\n                if self.board[row_no][col_no] == num:\n                    return False\n        return True\n    \npuzzle = [\n  [0, 0, 2, 0, 0, 8, 0, 0, 0],\n  [0, 0, 0, 0, 0, 3, 7, 6, 2],\n  [4, 3, 0, 0, 0, 0, 8, 0, 0],\n  [0, 5, 0, 0, 3, 0, 0, 9, 0],\n  [0, 4, 0, 0, 0, 0, 0, 2, 6],\n  [0, 0, 0, 4, 6, 7, 0, 0, 0],\n  [0, 8, 6, 7, 0, 4, 0, 0, 0],\n  [0, 0, 0, 5, 1, 9, 0, 0, 8],\n  [1, 7, 0, 0, 0, 6, 0, 0, 5]\n]\n\ngameboard = Board(puzzle)","head":"","tail":"","editableRegionBoundaries":[27,29],"history":["main.py"]}]}}},"pageContext":{"challengeMeta":{"blockHashSlug":"/learn/scientific-computing-with-python/#learn-classes-and-objects-by-building-a-sudoku-solver","dashedName":"step-46","certification":"scientific-computing-with-python","disableLoopProtectTests":false,"disableLoopProtectPreview":false,"superBlock":"scientific-computing-with-python","block":"learn-classes-and-objects-by-building-a-sudoku-solver","isFirstStep":false,"template":null,"required":[],"nextBlock":"learn-classes-and-objects-by-building-a-sudoku-solver","nextChallengePath":"/learn/scientific-computing-with-python/learn-classes-and-objects-by-building-a-sudoku-solver/step-47","prevChallengePath":"/learn/scientific-computing-with-python/learn-classes-and-objects-by-building-a-sudoku-solver/step-45","id":"6606d8c323d6205890fbbd54"},"projectPreview":{"showProjectPreview":false,"challengeData":{"challengeType":20,"challengeFiles":[{"name":"main","ext":"py","contents":"class Board:\n    def __init__(self, board):\n        self.board = board\n\n    def __str__(self):\n        board_str = ''\n        for row in self.board:\n            row_str = [str(i) if i else '*' for i in row]\n            board_str += ' '.join(row_str)\n            board_str += '\\n'\n        return board_str\n\n    def find_empty_cell(self):\n        for row, contents in enumerate(self.board):\n            try:\n                col = contents.index(0)\n                return row, col\n            except ValueError:\n                pass\n        return None\n\n    def valid_in_row(self, row, num):\n        return num not in self.board[row]\n\n    def valid_in_col(self, col, num):\n        return all(self.board[row][col] != num for row in range(9))\n\n    def valid_in_square(self, row, col, num):\n        row_start = (row // 3) * 3\n        col_start = (col // 3) * 3\n        for row_no in range(row_start, row_start + 3):\n            for col_no in range(col_start, col_start + 3):\n                if self.board[row_no][col_no] == num:\n                    return False\n        return True\n\n    def is_valid(self, empty, num):\n        row, col = empty\n        valid_in_row = self.valid_in_row(row, num)\n        valid_in_col = self.valid_in_col(col, num)\n        valid_in_square = self.valid_in_square(row, col, num)\n        return all([valid_in_row, valid_in_col, valid_in_square])\n\n    def solver(self):\n        if (next_empty := self.find_empty_cell()) is None:\n            return True\n        for guess in range(1, 10):\n            if self.is_valid(next_empty, guess):\n                row, col = next_empty\n                self.board[row][col] = guess\n                if self.solver():\n                    return True\n                self.board[row][col] = 0\n        return False\n\ndef solve_sudoku(board):\n    gameboard = Board(board)\n    print(f'Puzzle to solve:\\n{gameboard}')\n    if gameboard.solver():\n        print(f'Solved puzzle:\\n{gameboard}')\n    else:\n        print('The provided puzzle is unsolvable.')\n    return gameboard\n\npuzzle = [\n  [0, 0, 2, 0, 0, 8, 0, 0, 0],\n  [0, 0, 0, 0, 0, 3, 7, 6, 2],\n  [4, 3, 0, 0, 0, 0, 8, 0, 0],\n  [0, 5, 0, 0, 3, 0, 0, 9, 0],\n  [0, 4, 0, 0, 0, 0, 0, 2, 6],\n  [0, 0, 0, 4, 6, 7, 0, 0, 0],\n  [0, 8, 6, 7, 0, 4, 0, 0, 0],\n  [0, 0, 0, 5, 1, 9, 0, 0, 8],\n  [1, 7, 0, 0, 0, 6, 0, 0, 5]\n]\n\nsolve_sudoku(puzzle)","head":"","tail":"","history":["main.py"],"fileKey":"mainpy"}]}},"slug":"/learn/scientific-computing-with-python/learn-classes-and-objects-by-building-a-sudoku-solver/step-46"}},
    "staticQueryHashes": ["1800977889","4268002518"]}