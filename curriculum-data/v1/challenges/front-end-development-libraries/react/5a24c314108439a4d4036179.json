{
  "id": "5a24c314108439a4d4036179",
  "title": "Create a Controlled Form",
  "challengeType": 6,
  "forumTopicId": 301384,
  "dashedName": "create-a-controlled-form",
  "challengeFiles": [
    {
      "head": "",
      "tail": "ReactDOM.render(<MyForm />, document.getElementById('root'));",
      "id": "",
      "editableRegionBoundaries": [],
      "history": [
        "index.jsx"
      ],
      "name": "index",
      "ext": "jsx",
      "path": "index.jsx",
      "fileKey": "indexjsx",
      "contents": "class MyForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      input: '',\n      submit: ''\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n  handleChange(event) {\n    this.setState({\n      input: event.target.value\n    });\n  }\n  handleSubmit(event) {\n    // Change code below this line\n\n    // Change code above this line\n  }\n  render() {\n    return (\n      <div>\n        <form onSubmit={this.handleSubmit}>\n          {/* Change code below this line */}\n\n          {/* Change code above this line */}\n          <button type='submit'>Submit!</button>\n        </form>\n        {/* Change code below this line */}\n\n        {/* Change code above this line */}\n      </div>\n    );\n  }\n}",
      "error": null,
      "seed": "class MyForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      input: '',\n      submit: ''\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n  handleChange(event) {\n    this.setState({\n      input: event.target.value\n    });\n  }\n  handleSubmit(event) {\n    // Change code below this line\n\n    // Change code above this line\n  }\n  render() {\n    return (\n      <div>\n        <form onSubmit={this.handleSubmit}>\n          {/* Change code below this line */}\n\n          {/* Change code above this line */}\n          <button type='submit'>Submit!</button>\n        </form>\n        {/* Change code below this line */}\n\n        {/* Change code above this line */}\n      </div>\n    );\n  }\n}"
    }
  ],
  "solutions": [
    [
      {
        "head": "",
        "tail": "",
        "id": "",
        "history": [
          "index.jsx"
        ],
        "name": "index",
        "ext": "jsx",
        "path": "index.jsx",
        "fileKey": "indexjsx",
        "contents": "class MyForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      input: '',\n      submit: ''\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n  handleChange(event) {\n    this.setState({\n      input: event.target.value\n    });\n  }\n  handleSubmit(event) {\n    event.preventDefault();\n    this.setState(state => ({\n      submit: state.input\n    }));\n  }\n  render() {\n    return (\n      <div>\n        <form onSubmit={this.handleSubmit}>\n          <input value={this.state.input} onChange={this.handleChange} />\n          <button type='submit'>Submit!</button>\n        </form>\n        <h1>{this.state.submit}</h1>\n      </div>\n    );\n  }\n}",
        "error": null,
        "seed": "class MyForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      input: '',\n      submit: ''\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n  handleChange(event) {\n    this.setState({\n      input: event.target.value\n    });\n  }\n  handleSubmit(event) {\n    event.preventDefault();\n    this.setState(state => ({\n      submit: state.input\n    }));\n  }\n  render() {\n    return (\n      <div>\n        <form onSubmit={this.handleSubmit}>\n          <input value={this.state.input} onChange={this.handleChange} />\n          <button type='submit'>Submit!</button>\n        </form>\n        <h1>{this.state.submit}</h1>\n      </div>\n    );\n  }\n}"
      }
    ]
  ],
  "assignments": [],
  "tests": [
    {
      "text": "<p><code>MyForm</code> should return a <code>div</code> element which contains a <code>form</code> and an <code>h1</code> tag. The form should include an <code>input</code> and a <code>button</code>.</p>",
      "testString": "assert(\n  (() => {\n    const mockedComponent = Enzyme.mount(React.createElement(MyForm));\n    return (\n      mockedComponent.find('div').children().find('form').length === 1 &&\n      mockedComponent.find('div').children().find('h1').length === 1 &&\n      mockedComponent.find('form').children().find('input').length === 1 &&\n      mockedComponent.find('form').children().find('button').length === 1\n    );\n  })()\n);"
    },
    {
      "text": "<p>The state of <code>MyForm</code> should initialize with <code>input</code> and <code>submit</code> properties, both set to empty strings.</p>",
      "testString": "assert(\n  Enzyme.mount(React.createElement(MyForm)).state('input') === '' &&\n    Enzyme.mount(React.createElement(MyForm)).state('submit') === ''\n);"
    },
    {
      "text": "<p>Typing in the <code>input</code> element should update the <code>input</code> property of the component's state.</p>",
      "testString": "(() => {\n  const mockedComponent = Enzyme.mount(React.createElement(MyForm));\n  const _1 = () => {\n    mockedComponent.setState({ input: '' });\n    return mockedComponent.state('input');\n  };\n  const _2 = () => {\n    mockedComponent\n      .find('input')\n      .simulate('change', { target: { value: 'TestInput' } });\n    return {\n      state: mockedComponent.state('input'),\n      inputVal: mockedComponent.find('input').props().value\n    };\n  };\n  const before = _1();\n  const after = _2();\n  assert(\n    before === '' &&\n      after.state === 'TestInput' &&\n      after.inputVal === 'TestInput'\n  );\n})();"
    },
    {
      "text": "<p>Submitting the form should run <code>handleSubmit</code> which should set the <code>submit</code> property in state equal to the current input.</p>",
      "testString": "(() => {\n  const mockedComponent = Enzyme.mount(React.createElement(MyForm));\n  const _1 = () => {\n    mockedComponent.setState({ input: '' });\n    mockedComponent.setState({ submit: '' });\n    mockedComponent\n      .find('input')\n      .simulate('change', { target: { value: 'SubmitInput' } });\n    return mockedComponent.state('submit');\n  };\n  const _2 = () => {\n    mockedComponent.find('form').simulate('submit');\n    return mockedComponent.state('submit');\n  };\n  const before = _1();\n  const after = _2();\n  assert(before === '' && after === 'SubmitInput');\n})();"
    },
    {
      "text": "<p><code>handleSubmit</code> should call <code>event.preventDefault</code></p>",
      "testString": "assert(\n  __helpers.isCalledWithNoArgs(\n    'event.preventDefault',\n    MyForm.prototype.handleSubmit.toString()\n  )\n);"
    },
    {
      "text": "<p>The <code>h1</code> heading element should render the value of the <code>submit</code> field from the component's state.</p>",
      "testString": "(() => {\n  const mockedComponent = Enzyme.mount(React.createElement(MyForm));\n  const _1 = () => {\n    mockedComponent.setState({ input: '' });\n    mockedComponent.setState({ submit: '' });\n    mockedComponent\n      .find('input')\n      .simulate('change', { target: { value: 'TestInput' } });\n    return mockedComponent.find('h1').text();\n  };\n  const _2 = () => {\n    mockedComponent.find('form').simulate('submit');\n    return mockedComponent.find('h1').text();\n  };\n  const before = _1();\n  const after = _2();\n  assert(before === '' && after === 'TestInput');\n})();"
    }
  ],
  "description": "<section id=\"description\">\n<p>The last challenge showed that React can control the internal state for certain elements like <code>input</code> and <code>textarea</code>, which makes them controlled components. This applies to other form elements as well, including the regular HTML <code>form</code> element.</p>\n</section>",
  "instructions": "<section id=\"instructions\">\n<p>The <code>MyForm</code> component is set up with an empty <code>form</code> with a submit handler. The submit handler will be called when the form is submitted.</p>\n<p>We've added a button which submits the form. You can see it has the <code>type</code> set to <code>submit</code> indicating it is the button controlling the form. Add the <code>input</code> element in the <code>form</code> and set its <code>value</code> and <code>onChange()</code> attributes like the last challenge. You should then complete the <code>handleSubmit</code> method so that it sets the component state property <code>submit</code> to the current input value in the local <code>state</code>.</p>\n<p><strong>Note:</strong> You also must call <code>event.preventDefault()</code> in the submit handler, to prevent the default form submit behavior which will refresh the web page. For camper convenience, the default behavior has been disabled here to prevent refreshes from resetting challenge code.</p>\n<p>Finally, create an <code>h1</code> tag after the <code>form</code> which renders the <code>submit</code> value from the component's <code>state</code>. You can then type in the form and click the button (or press enter), and you should see your input rendered to the page.</p>\n</section>",
  "translationPending": false,
  "block": "react",
  "hasEditableBoundaries": false,
  "order": 3,
  "superOrder": 2,
  "certification": "front-end-development-libraries",
  "superBlock": "front-end-development-libraries",
  "challengeOrder": 28,
  "required": [
    {
      "src": "https://unpkg.com/react@16.4.0/umd/react.production.min.js"
    },
    {
      "src": "https://unpkg.com/react-dom@16.4.0/umd/react-dom.production.min.js"
    }
  ],
  "template": "<body><div id='root'></div><div id='challenge-node'></div>${ source || '' }</body>",
  "helpCategory": "JavaScript",
  "usesMultifileEditor": false,
  "disableLoopProtectTests": false,
  "disableLoopProtectPreview": false
}