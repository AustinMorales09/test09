"use strict";(self.webpackChunk_freecodecamp_client=self.webpackChunk_freecodecamp_client||[]).push([[6207],{75344:function(e,t,n){n.d(t,{A:function(){return r}});var a=n(72047),s=n(538),l=n(43319),o=n(64844);function r(e){let{keyboardShortcuts:t,toggleKeyboardShortcuts:n,explain:r}=e;const{t:c}=(0,s.Bd)();return a.createElement(a.Fragment,null,a.createElement(o.A,{action:c("settings.labels.keyboard-shortcuts"),explain:r,flag:t,flagName:"keyboard-shortcuts",offLabel:c("buttons.off"),onLabel:c("buttons.on"),toggleFlag:()=>{n(!t)}}),a.createElement(l.hK,{size:"medium"}))}r.displayName="KeyboardShortcutsSettings"},56875:function(e,t,n){var a=n(72047),s=n(538),l=n(21587);function o(e){let{heading:t,isCompleted:n=!1}=e;const{t:o}=(0,s.Bd)();return a.createElement("div",{className:"challenge-heading-wrap"},a.createElement("h2",{className:"challenge-heading"},o(t)),n&&a.createElement(l.A,null))}o.displayName="ChallengeHeading",t.A=o},28358:function(e,t,n){n.d(t,{A:function(){return K}});n(94814);var a=n(72047),s=n(12479),l=n(538),o=n(43319);function r(e){return a.createElement(a.Fragment,null,a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",fill:e.fill||"var(--gray-00)"},a.createElement("rect",{width:"256",height:"256",fill:"none"}),a.createElement("path",{d:"M216,40H40A16.01833,16.01833,0,0,0,24,56V200a16.01833,16.01833,0,0,0,16,16H216a16.01833,16.01833,0,0,0,16-16V56A16.01833,16.01833,0,0,0,216,40ZM96,148a19.85259,19.85259,0,0,0,14.28613-6.00293,7.99956,7.99956,0,0,1,11.42774,11.19727,36,36,0,1,1,0-50.38868,7.99956,7.99956,0,0,1-11.42774,11.19727A20.00012,20.00012,0,1,0,96,148Zm72,0a19.85259,19.85259,0,0,0,14.28613-6.00293,7.99956,7.99956,0,0,1,11.42774,11.19727,36,36,0,1,1,0-50.38868,7.99956,7.99956,0,0,1-11.42774,11.19727A20.00012,20.00012,0,1,0,168,148Z"})))}r.displayName="ClosedCaptionsIcon";var c=r;const i="https://cdn.freecodecamp.org/curriculum/english/animation-assets",m=i+"/sounds",u=i+"/images",p=u+"/backgrounds",g=u+"/characters",d=g+"/alice",h=g+"/anna",b=g+"/bob",y=g+"/brian",E=g+"/npc",C=g+"/david",f=g+"/npc",v=g+"/jake",w=g+"/james",O=g+"/linda",A=g+"/lisa",k=g+"/maria",S=g+"/sarah",N=g+"/npc",T=g+"/sophie",z=g+"/tom",x=g+"/npc",M=g+"/npc",I=g+"/npc",L={Alice:{base:d+"/base.png",brows:d+"/brows-neutral.png",eyesClosed:d+"/eyes-closed.png",eyesOpen:d+"/eyes-open.png",glasses:null,mouthClosed:d+"/mouth-smile.png",mouthOpen:d+"/mouth-laugh.png"},Amy:{base:M+"/girl-base.png",brows:M+"/girl-base.png",eyesClosed:M+"/girl-eyes-closed.png",eyesOpen:M+"/girl-eyes-open.png",glasses:null,mouthClosed:M+"/girl-mouth-smile.png",mouthOpen:M+"/girl-mouth-laugh.png"},Anna:{base:h+"/base.png",brows:h+"/brows-normal.png",eyesClosed:h+"/eyes-closed.png",eyesOpen:h+"/eyes-open.png",glasses:null,mouthClosed:h+"/mouth-smile.png",mouthOpen:h+"/mouth-laugh.png"},Bob:{base:b+"/base.png",brows:b+"/brows-neutral.png",eyesClosed:b+"/eyes-closed.png",eyesOpen:b+"/eyes-open.png",glasses:null,mouthClosed:b+"/mouth-smile.png",mouthOpen:b+"/mouth-laugh.png"},Brian:{base:y+"/base.png",brows:y+"/brows-neutral.png",eyesClosed:y+"/eyes-closed.png",eyesOpen:y+"/eyes-open.png",glasses:y+"/glasses.png",mouthClosed:y+"/mouth-smile.png",mouthOpen:y+"/mouth-laugh.png"},Candidate:{base:E+"/boy-base.png",brows:E+"/boy-base.png",eyesClosed:E+"/boy-eyes-closed.png",eyesOpen:E+"/boy-eyes-open.png",glasses:null,mouthClosed:E+"/boy-mouth-smile.png",mouthOpen:E+"/boy-mouth-laugh.png"},David:{base:C+"/base.png",brows:C+"/brows-neutral.png",eyesClosed:C+"/eyes-closed.png",eyesOpen:C+"/eyes-open.png",glasses:null,mouthClosed:C+"/mouth-smile.png",mouthOpen:C+"/mouth-laugh.png"},"Delivery Man":{base:I+"/man-base.png",brows:I+"/man-base.png",eyesClosed:I+"/man-eyes-closed.png",eyesOpen:I+"/man-eyes-open.png",glasses:null,mouthClosed:I+"/man-mouth-smile.png",mouthOpen:I+"/man-mouth-laugh.png"},Expert:{base:f+"/man-base.png",brows:f+"/man-base.png",eyesClosed:f+"/man-eyes-closed.png",eyesOpen:f+"/man-eyes-open.png",glasses:null,mouthClosed:f+"/man-mouth-smile.png",mouthOpen:f+"/man-mouth-laugh.png"},Jake:{base:v+"/base.png",brows:v+"/brows.png",eyesClosed:v+"/eyes-closed.png",eyesOpen:v+"/eyes-open.png",glasses:null,mouthClosed:v+"/mouth-smile.png",mouthOpen:v+"/mouth-laugh.png"},James:{base:w+"/base.png",brows:w+"/brows-neutral.png",eyesClosed:w+"/eyes-closed.png",eyesOpen:w+"/eyes-open.png",glasses:w+"/glasses.png",mouthClosed:w+"/mouth-smile.png",mouthOpen:w+"/mouth-laugh.png"},Linda:{base:O+"/base.png",brows:O+"/brows-neutral.png",eyesClosed:O+"/eyes-closed.png",eyesOpen:O+"/eyes-open.png",glasses:null,mouthClosed:O+"/mouth-smile.png",mouthOpen:O+"/mouth-laugh.png"},Lisa:{base:A+"/base.png",brows:A+"/brows-neutral.png",eyesClosed:A+"/eyes-closed.png",eyesOpen:A+"/eyes-open.png",glasses:null,mouthClosed:A+"/mouth-smile.png",mouthOpen:A+"/mouth-laugh.png"},Maria:{base:k+"/base.png",brows:k+"/brows-normal.png",eyesClosed:k+"/eyes-closed.png",eyesOpen:k+"/eyes-open.png",glasses:k+"/glasses.png",mouthClosed:k+"/mouth-smile.png",mouthOpen:k+"/mouth-laugh.png"},Mark:{base:x+"/boy-base.png",brows:x+"/boy-base.png",eyesClosed:x+"/boy-eyes-closed.png",eyesOpen:x+"/boy-eyes-open.png",glasses:null,mouthClosed:x+"/boy-mouth-smile.png",mouthOpen:x+"/boy-mouth-laugh.png"},Sarah:{base:S+"/base.png",brows:S+"/brows-normal.png",eyesClosed:S+"/eyes-closed.png",eyesOpen:S+"/eyes-open.png",glasses:null,mouthClosed:S+"/mouth-smile.png",mouthOpen:S+"/mouth-laugh.png"},"Second Candidate":{base:N+"/man-base.png",brows:N+"/man-base.png",eyesClosed:N+"/man-eyes-closed.png",eyesOpen:N+"/man-eyes-open.png",glasses:null,mouthClosed:N+"/man-mouth-smile.png",mouthOpen:N+"/man-mouth-laugh.png"},Sophie:{base:T+"/base.png",brows:T+"/brows-neutral.png",eyesClosed:T+"/eyes-closed.png",eyesOpen:T+"/eyes-open.png",glasses:T+"/glasses.png",mouthClosed:T+"/mouth-smile.png",mouthOpen:T+"/mouth-laugh.png"},Tom:{base:z+"/base.png",brows:z+"/brows-normal.png",eyesClosed:z+"/eyes-closed.png",eyesOpen:z+"/eyes-open.png",glasses:null,mouthClosed:z+"/mouth-smile.png",mouthOpen:z+"/mouth-laugh.png"}};function P(e){let{position:t,opacity:n,name:s,isBlinking:l,isTalking:o}=e;const[r,c]=(0,a.useState)(!0),[i,m]=(0,a.useState)(!1);(0,a.useEffect)((()=>{let e=null,t=null;if(l){const t=Math.floor(3e3*Math.random())+2e3;e=setInterval((()=>{const e=Math.floor(1e3*Math.random());setTimeout((()=>{c(!1),setTimeout((()=>{c(!0)}),30)}),e)}),t)}if(o){const e=()=>{const e=n(0,100),t=n(150,300);setTimeout((()=>{m(!0)}),e),setTimeout((()=>{m(!1)}),t)};e(),t=setInterval((()=>{e()}),300)}function n(e,t){return Math.floor(Math.random()*(t-e+1))+e}return()=>{c(!0),m(!1),e&&clearInterval(e),t&&clearInterval(t)}}),[l,o]);const u={opacity:n};t.x&&(u.left=t.x+"%"),t.y&&(u.top=t.y+"%");const p={transform:t.z?"translate(-"+50*t.z+"%) scale("+t.z+")":"translate(-50%)"},{base:g,brows:d,eyesOpen:h,eyesClosed:b,mouthOpen:y,mouthClosed:E,glasses:C}=L[s];return a.createElement("div",{style:u,className:"character-wrap"},a.createElement("img",{style:p,className:"character-feature",src:g,alt:""}),a.createElement("img",{style:p,className:"character-feature",src:d,alt:""}),a.createElement("img",{style:p,className:"character-feature",src:r?h:b,alt:""}),a.createElement("img",{style:p,className:"character-feature",src:i?y:E,alt:""}),C&&a.createElement("img",{style:p,className:"character-feature",src:C,alt:""}))}P.displayName="Character";var F=P;const q=e=>1e3*e,B=e=>{e&&((new Image).src=e)};function H(e){let{scene:t,isPlaying:n,setIsPlaying:r}=e;const{t:i}=(0,l.Bd)(),{setup:g,commands:d}=t,{audio:h,alwaysShowDialogue:b}=g,{startTimestamp:y=null,finishTimestamp:E=null}=h,C=null!==y&&null!==E,f=C?"#t="+y:"",v=(0,a.useRef)(new Audio(m+"/"+h.filename+f)),w=C?q(E-y):1/0;(0,a.useEffect)((()=>(v.current.addEventListener("canplaythrough",V),B(p+"/"+g.background),g.characters.map((e=>{let{character:t}=e;return Object.values(L[t])})).flat().forEach(B),d.map((e=>{let{background:t}=e;return t?p+"/"+t:null})).forEach(B),()=>{const{current:e}=v;e.pause(),e.currentTime=0,e.removeEventListener("canplaythrough",V)})),[v,g.background,g.characters,d]);const O=g.background,A={label:"",text:"",align:"left"},k=g.characters.map((e=>{var t;return{...e,opacity:null!==(t=e.opacity)&&void 0!==t?t:1,isTalking:!1}})),[S,N]=(0,a.useState)(!1),[T,z]=(0,a.useState)(!1),[x,M]=(0,a.useState)(!1),[I,P]=(0,a.useState)(k),[H,K]=(0,a.useState)(A),[R,D]=(0,a.useState)(O);(0,a.useEffect)((()=>{n?$():Z()}),[n]);const V=()=>{N(!0)};let W=0,_=!1;function j(){Date.now()-W>=w&&(_=!0,v.current.pause()),_||window.requestAnimationFrame(j)}const $=()=>{z(!0),setTimeout((()=>{v.current.paused&&(W=Date.now(),v.current.play()),C&&j()}),q(h.startTime)),d.forEach(((e,t)=>{setTimeout((()=>{e.background&&D(e.background),K(e.dialogue?{...e.dialogue,label:e.character}:A),P((t=>t.map((t=>{var n,a;return t.character===e.character?{...t,position:null!==(n=e.position)&&void 0!==n?n:t.position,opacity:null!==(a=e.opacity)&&void 0!==a?a:t.opacity,isTalking:!!e.dialogue}:t}))))}),q(e.startTime)),e.dialogue&&setTimeout((()=>{P((t=>t.map((t=>t.character===e.character?{...t,isTalking:!1}:t))))}),q(e.finishTime)),t===d.length-1&&setTimeout((()=>{r(!1)}),e.finishTime?q(e.finishTime)+500:q(e.startTime)+500)}))},Z=()=>{v.current.pause(),v.current.src=m+"/"+h.filename+f,v.current.currentTime=h.startTimestamp||0,z(!1),K(A),P(k),D(O)};return a.createElement(s.fv,{lg:10,lgOffset:1,md:10,mdOffset:1},a.createElement("div",{className:"scene-wrapper",style:{backgroundImage:'url("'+p+"/"+R+'")',backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center center",aspectRatio:"16 / 9"}},S?a.createElement(a.Fragment,null,I.map(((e,t)=>{let{character:s,position:l={},opacity:o=1,isTalking:r=!1}=e;return a.createElement(F,{key:t,name:s,position:l,opacity:o,isTalking:r,isBlinking:n})})),T&&(b||x)&&a.createElement("div",{className:"scene-dialogue-wrap "+(H.align?"scene-dialogue-align-"+H.align:"")},a.createElement("div",{className:"scene-dialogue-label"},H.label),a.createElement("div",{className:"scene-dialogue-text"},H.text)),!n&&a.createElement("div",{className:"scene-start-screen"},a.createElement("button",{className:"scene-start-btn scene-play-btn",onClick:()=>{r(!0)}},a.createElement("img",{src:u+"/play-button.png",alt:i("buttons.play-scene")})),!b&&a.createElement("button",{className:"scene-start-btn scene-a11y-btn","aria-label":"closed captions","aria-pressed":x,onClick:()=>M(!x)},a.createElement(c,{fill:x?"var(--gray-00)":"var(--gray-15)"})))):a.createElement(o.aH,null)))}H.displayName="Scene";var K=H},25500:function(e,t,n){var a=n(72047),s=n(538),l=n(6731),o=n(86900),r=n(68088),c=n(12479),i=n(22148),m=n(37371),u=n(71381),p=n(23116),g=n(75344);const d=(0,r.Mz)(m.A$,p.dt,((e,t)=>({isOpen:e,user:t})));function h(e){let{closeShortcutsModal:t,toggleKeyboardShortcuts:n,isOpen:s,t:l,user:{keyboardShortcuts:o}}=e;return a.createElement(c.aF,{onClose:t,open:s},a.createElement(c.aF.Header,{showCloseButton:!1},l("shortcuts.title")),a.createElement(c.aF.Body,{alignment:"start"},a.createElement("table",{className:"shortcuts-modal-table"},a.createElement("thead",null,a.createElement("tr",null,a.createElement("th",{scope:"col"},l("shortcuts.table-header-action")),a.createElement("th",{scope:"col"},l("shortcuts.table-header-key")))),a.createElement("tbody",null,a.createElement("tr",null,a.createElement("td",null,l("shortcuts.navigation-mode")),a.createElement("td",null,"ESC")),a.createElement("tr",null,a.createElement("td",null,l("shortcuts.execute-challenge")),a.createElement("td",null,"CTRL/Command + Enter")),a.createElement("tr",null,a.createElement("td",null,l("shortcuts.play-scene")),a.createElement("td",null,"CTRL + Space")),a.createElement("tr",null,a.createElement("td",null,l("shortcuts.focus-editor")),a.createElement("td",null,"e")),a.createElement("tr",null,a.createElement("td",null,l("shortcuts.focus-instructions-panel")),a.createElement("td",null,"r")),a.createElement("tr",null,a.createElement("td",null,l("shortcuts.navigate-previous")),a.createElement("td",null,"p")),a.createElement("tr",null,a.createElement("td",null,l("shortcuts.navigate-next")),a.createElement("td",null,"n"))))),a.createElement(c.aF.Footer,null,a.createElement(g.A,{keyboardShortcuts:o,toggleKeyboardShortcuts:n}),a.createElement(c.$n,{block:!0,size:"small",variant:"primary",onClick:t},l("buttons.close"))))}h.displayName="ShortcutsModal",t.A=(0,l.Ng)(d,(e=>(0,o.zH)({closeShortcutsModal:()=>(0,i.Oo)("shortcuts"),toggleKeyboardShortcuts:e=>(0,u._1)({keyboardShortcuts:e})},e)))((0,s.CI)()(h))},50526:function(e,t,n){n.r(t);var a=n(72047),s=n(19845),l=n(35964),o=n(538),r=n(6731),c=n(86900),i=n(68088),m=n(12479),u=n(25500),p=n(26909),g=n(65176),d=n(58658),h=n(9496),b=n(60741),y=n(24519),E=n(4204),C=n(28358),f=n(65665),v=n(60144),w=n(56875),O=n(22148),A=n(37371);const k=(0,i.Mz)(A.m3,(e=>({isChallengeCompleted:e})));class S extends a.Component{constructor(e){super(e),this.container=a.createRef(),this.handleOptionChange=e=>{this.setState({isWrongAnswer:!1,selectedOption:parseInt(e.target.value,10)})},this.handleAssignmentChange=(e,t)=>{const n=e.target.checked?this.state.assignmentsCompleted+1:this.state.assignmentsCompleted-1,a=t===n;this.setState({assignmentsCompleted:n,allAssignmentsCompleted:a})},this.onVideoLoad=()=>{this.setState({videoIsLoaded:!0})},this.setIsScenePlaying=e=>{this.setState({isScenePlaying:e})},this.state={subtitles:"",downloadURL:null,selectedOption:null,answer:1,isWrongAnswer:!1,assignmentsCompleted:0,allAssignmentsCompleted:!1,videoIsLoaded:!1,isScenePlaying:!1},this.handleSubmit=this.handleSubmit.bind(this)}componentDidMount(){var e;const{challengeMounted:t,data:{challengeNode:{challenge:{fields:{tests:n},title:a,challengeType:s,helpCategory:l}}},pageContext:{challengeMeta:o},initTests:r,updateChallengeMeta:c}=this.props;r(n),c({...o,title:a,challengeType:s,helpCategory:l}),t(o.id),null===(e=this.container.current)||void 0===e||e.focus()}componentDidUpdate(e){const{data:{challengeNode:{challenge:{title:t}}}}=e,{challengeMounted:n,data:{challengeNode:{challenge:{title:a,challengeType:s,helpCategory:l}}},pageContext:{challengeMeta:o},updateChallengeMeta:r}=this.props;t!==a&&(r({...o,title:a,challengeType:s,helpCategory:l}),n(o.id))}handleSubmit(e,t,n){const a=n.length>0,s=this.state.allAssignmentsCompleted;e-1===this.state.selectedOption?(this.setState({isWrongAnswer:!1}),a&&!s||t()):this.setState({isWrongAnswer:!0})}render(){const{data:{challengeNode:{challenge:{title:e,description:t,superBlock:n,block:o,videoId:r,videoLocaleIds:c,bilibiliIds:i,fields:{blockName:O},question:{text:A,answers:k,solution:S},assignments:N,audioPath:T,translationPending:z,scene:x}}},openCompletionModal:M,openHelpModal:I,pageContext:{challengeMeta:{nextChallengePath:L,prevChallengePath:P}},t:F,isChallengeCompleted:q}=this.props,B=F("intro:"+n+".blocks."+o+".title")+" - "+e,H=null!==this.state.selectedOption?k[this.state.selectedOption].feedback:void 0;return a.createElement(h.A,{executeChallenge:()=>{this.handleSubmit(S,M,N)},containerRef:this.container,nextChallengePath:L,prevChallengePath:P,playScene:()=>this.setIsScenePlaying(!0)},a.createElement(d.A,null,a.createElement(s.A,{title:B+" | "+F("learn.learn")+" | freeCodeCamp.org"}),a.createElement(m.mc,null,a.createElement(m.fI,null,r&&a.createElement(m.fv,{lg:10,lgOffset:1,md:10,mdOffset:1},a.createElement(g.A,{size:"medium"}),a.createElement("div",{className:"video-wrapper"},this.state.videoIsLoaded?null:a.createElement("div",{className:"video-placeholder-loader"},a.createElement(p.A,null)),a.createElement(b.A,{bilibiliIds:i,onVideoLoad:this.onVideoLoad,title:e,videoId:r,videoIsLoaded:this.state.videoIsLoaded,videoLocaleIds:c}))),a.createElement(m.fv,{md:8,mdOffset:2,sm:10,smOffset:1,xs:12},a.createElement(g.A,{size:"medium"}),a.createElement(v.A,{isCompleted:q,translationPending:z},e),a.createElement(f.A,{className:"line-numbers",text:t}),a.createElement(g.A,{size:"medium"}),T&&a.createElement(a.Fragment,null,a.createElement("audio",{className:"audio",controls:!0},a.createElement("source",{src:"https://cdn.freecodecamp.org/"+T,type:"audio/mp3"})),a.createElement(g.A,{size:"medium"}))),x&&a.createElement(a.Fragment,null,a.createElement(C.A,{scene:x,isPlaying:this.state.isScenePlaying,setIsPlaying:this.setIsScenePlaying})," ",a.createElement(g.A,{size:"medium"})),a.createElement(m.fv,{md:8,mdOffset:2,sm:10,smOffset:1,xs:12},a.createElement(l.ObserveKeys,null,N.length>0&&a.createElement(a.Fragment,null,a.createElement(w.A,{heading:F("learn.assignments")}),a.createElement("div",{className:"video-quiz-options"},N.map(((e,t)=>a.createElement("label",{className:"video-quiz-option-label",key:t},a.createElement("input",{name:"assignment",type:"checkbox",onChange:e=>this.handleAssignmentChange(e,N.length)}),a.createElement(f.A,{className:"video-quiz-option",text:e}),a.createElement(g.A,{size:"medium"})))))," ",a.createElement(g.A,{size:"medium"})),a.createElement(w.A,{heading:F("learn.question")}),a.createElement(f.A,{className:"line-numbers",text:A}),a.createElement("div",{className:"video-quiz-options"},k.map(((e,t)=>{let{answer:n}=e;return a.createElement("label",{className:"video-quiz-option-label",key:t},a.createElement("input",{"aria-label":F("aria.answer"),checked:this.state.selectedOption===t,className:"sr-only",name:"quiz",onChange:this.handleOptionChange,type:"radio",value:t})," ",a.createElement("span",{className:"video-quiz-input-visible"},this.state.selectedOption===t?a.createElement("span",{className:"video-quiz-selected-input"}):null),a.createElement(f.A,{className:"video-quiz-option",text:n}))})))),a.createElement(g.A,{size:"medium"}),a.createElement("div",{style:{textAlign:"center"}},this.state.isWrongAnswer&&a.createElement("span",null,H?a.createElement(f.A,{className:"multiple-choice-feedback",text:H}):F("learn.wrong-answer")),!this.state.allAssignmentsCompleted&&N.length>0&&a.createElement(a.Fragment,null,a.createElement("br",null),a.createElement("span",null,F("learn.assignment-not-complete")))),a.createElement(g.A,{size:"medium"}),a.createElement(m.$n,{block:!0,size:"medium",variant:"primary",onClick:()=>this.handleSubmit(S,M,N)},F("buttons.check-answer")),a.createElement(g.A,{size:"xxSmall"}),a.createElement(m.$n,{block:!0,size:"medium",variant:"primary",onClick:I},F("buttons.ask-for-help")),a.createElement(g.A,{size:"large"})),a.createElement(y.A,null),a.createElement(E.A,{challengeTitle:e,challengeBlock:O}))),a.createElement(u.A,null)))}}S.displayName="ShowOdin",t.default=(0,r.Ng)(k,(e=>(0,c.zH)({initTests:O.gT,updateChallengeMeta:O.a0,challengeMounted:O.Kj,updateSolutionFormValues:O.Fr,openCompletionModal:()=>(0,O.qf)("completion"),openHelpModal:()=>(0,O.qf)("help")},e)))((0,o.CI)()(S))}}]);
//# sourceMappingURL=component---src-templates-challenges-odin-show-tsx-a8d61f4b960d66814841.js.map